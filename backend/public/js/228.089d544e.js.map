{"version":3,"file":"js/228.089d544e.js","mappings":"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","sources":["webpack://frontend/./src/views/MyRecipesPage.vue","webpack://frontend/./src/views/MyRecipesPage.vue?02d1"],"sourcesContent":["<template>\r\n    <div class=\"my-recipes-page\">\r\n      <h2>Mes recettes</h2>\r\n      <div v-if=\"recipes.length === 0\" class=\"no-recipes\">\r\n        <p>Aucune recette n'a été enregistrée pour le moment.</p>\r\n      </div>\r\n      <div v-else class=\"recipes-list\">\r\n        <div v-for=\"(recipe, index) in recipes\" :key=\"recipe.recipe_id\" class=\"recipe-card\">\r\n          <h3>{{ recipe.recipe_name }}</h3>\r\n          <img v-if=\"recipe.image_url\" :src=\"recipe.image_url\" alt=\"Image de la recette\" class=\"modal-recipe-image\" />\r\n          <button @click=\"openModal(index)\">Voir les détails</button>\r\n        </div>\r\n      </div>\r\n      <div v-if=\"showModal\" class=\"modal-overlay\">\r\n        <div class=\"modal-content\">\r\n          <button class=\"close-btn\" @click=\"closeModal\">X</button>\r\n          <h3>{{ currentRecipe.recipe_name }}</h3>\r\n          <img v-if=\"currentRecipe.image_url\" :src=\"currentRecipe.image_url\" alt=\"Image de la recette\" class=\"recipe-image\" />\r\n          <div class=\"recipe-info-container\">\r\n            <div class=\"recipe-info-line\">\r\n              <div class=\"info-item\"><strong>Généré par l'IA :</strong> {{ currentRecipe.created_by_ai ? 'Oui' : 'Non' }}</div>\r\n              <div class=\"info-item\"><strong>Temps de préparation:</strong> {{ currentRecipe.preparation_time }}</div>\r\n              <div class=\"info-item\"><strong>Difficulté:</strong> {{ currentRecipe.difficulty }}</div>\r\n              <div class=\"info-item\"><strong>Nombre de personnes:</strong> {{ currentRecipe.number_of_person }}</div>\r\n            </div>\r\n            <div class=\"recipe-info-line\">\r\n              <div class=\"info-item\"><strong>Cuisine:</strong> {{ currentRecipe.cuisine_type }}</div>\r\n              <div class=\"info-item\"><strong>Type:</strong> {{ currentRecipe.category_type }}</div>\r\n              <div class=\"info-item\">\r\n                <strong>Sans allergène :</strong> {{ currentRecipe.allergens_list?.join(', ') || 'Pas de mention' }}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <h4>Ingrédients</h4>\r\n          <ul>\r\n            <li v-for=\"(ingredient, index) in currentRecipe.ingredients\" :key=\"index\">\r\n              {{ ingredient.quantity }} {{ ingredient.food_name }}\r\n            </li>\r\n          </ul>\r\n          <h4>Instructions</h4>\r\n          <ol>\r\n            <li v-for=\"(step, index) in formattedInstructionsArray\" :key=\"index\">\r\n              {{ step }}\r\n            </li>\r\n          </ol>\r\n          <button @click=\"addToShoppingList\">Ajouter à la liste des courses</button>\r\n          <button @click=\"closeModal\">Fermer</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import axios from 'axios';\r\n  export default {\r\n    name: 'MyRecipesPage',\r\n    data() {\r\n      return {\r\n        recipes: [],\r\n        showModal: false,\r\n        currentRecipe: null,\r\n        errorMessage: ''\r\n      };\r\n    },\r\n    computed: {\r\n      formattedInstructionsArray() {\r\n        return this.currentRecipe?.instructions ? this.currentRecipe.instructions.split('\\n').filter((step) => step.trim() !== '') : [];\r\n      },\r\n    },\r\n    methods: {\r\n      async fetchUserRecipes() {\r\n        try {\r\n          const response = await axios.get(`${process.env.VUE_APP_URL_BACKEND}/recipes/user`, {\r\n            withCredentials: true,\r\n          });\r\n          this.recipes = response.data;\r\n          this.errorMessage = '';\r\n        } catch (error) {\r\n          console.error('Erreur lors de la récupération des recettes utilisateur :', error);\r\n          this.errorMessage = 'Une erreur est survenue lors de la récupération de vos recettes. Veuillez réessayer plus tard.';\r\n        }\r\n      },\r\n      async addToShoppingList() {\r\n        try {\r\n          const response = await axios.post(\r\n            `${process.env.VUE_APP_URL_BACKEND}/shopping-list/add`,\r\n            {\r\n              recipeId: this.currentRecipe.recipe_id\r\n            },\r\n            { withCredentials: true }\r\n          );\r\n          alert(response.data.message);\r\n        } catch (error) {\r\n          console.error('Erreur lors de l\\'ajout à la liste des courses:', error);\r\n          alert('Une erreur est survenue.');\r\n        }\r\n      },\r\n      openModal(index) {\r\n        this.currentRecipe = this.recipes[index];\r\n        this.showModal = true;\r\n      },\r\n      closeModal() {\r\n        this.showModal = false;\r\n        this.currentRecipe = null;\r\n      }\r\n    },\r\n    mounted() {\r\n      this.fetchUserRecipes();\r\n    },\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .my-recipes-page {\r\n    text-align: center;\r\n  }\r\n  .recipes-list {\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    justify-content: center;\r\n    gap: 20px;\r\n  }\r\n  .recipe-card {\r\n    background: #222;\r\n    color: #fff;\r\n    padding: 20px;\r\n    border-radius: 10px;\r\n    width: 300px;\r\n    text-align: center;\r\n  }\r\n  .recipe-card img {\r\n    max-width: 100%;\r\n    border-radius: 10px;\r\n  }\r\n  button {\r\n    background-color: #444;\r\n    color: white;\r\n    padding: 10px;\r\n    border: none;\r\n    border-radius: 5px;\r\n    cursor: pointer;\r\n  }\r\n  button:hover {\r\n    background-color: #555;\r\n  }\r\n  .modal-overlay {\r\n    position: fixed;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: rgba(0, 0, 0, 0.7);\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    z-index: 1000;\r\n  }\r\n  .modal-content {\r\n    max-height: 90vh;\r\n    overflow-y: auto;\r\n    background: #fff;\r\n    padding: 20px;\r\n    border-radius: 10px;\r\n    width: 80%;\r\n    max-width: 700px;\r\n    text-align: left;\r\n  }\r\n  .close-btn {\r\n    background: none;\r\n    border: none;\r\n    font-size: 20px;\r\n    cursor: pointer;\r\n    position: absolute;\r\n    top: 10px;\r\n    right: 10px;\r\n  }\r\n  .recipe-info-container {\r\n    margin-bottom: 20px;\r\n  }\r\n  .recipe-info-line {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    margin-bottom: 10px;\r\n    gap: 15px;\r\n  }\r\n  .error-message {\r\n    background-color: #ffcccc;\r\n    color: #cc0000;\r\n    border: 1px solid #cc0000;\r\n    padding: 10px;\r\n    margin: 20px auto;\r\n    max-width: 600px;\r\n    text-align: center;\r\n    border-radius: 5px;\r\n  }\r\n  .no-recipes {\r\n    text-align: center;\r\n    font-size: 1.2em;\r\n    color: #666;\r\n    margin-top: 20px;\r\n  }\r\n.recipe-image {\r\n  width: 100%;\r\n  max-width: 200px;\r\n  height: auto;\r\n  border-radius: 10px;\r\n  margin-top: 10px;\r\n  object-fit: cover;\r\n}\r\n.modal-recipe-image {\r\n  width: 100%;\r\n  max-width: 400px;\r\n  height: auto;\r\n  border-radius: 10px;\r\n  margin-bottom: 20px;\r\n  object-fit: contain;\r\n}\r\n  </style>\r\n  ","import { render } from \"./MyRecipesPage.vue?vue&type=template&id=58ece1ee&scoped=true\"\nimport script from \"./MyRecipesPage.vue?vue&type=script&lang=js\"\nexport * from \"./MyRecipesPage.vue?vue&type=script&lang=js\"\n\nimport \"./MyRecipesPage.vue?vue&type=style&index=0&id=58ece1ee&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-58ece1ee\"]])\n\nexport default __exports__"],"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","$data","recipes","length","_hoisted_2","_cache","_hoisted_3","_Fragment","_renderList","recipe","index","recipe_id","_toDisplayString","recipe_name","image_url","src","alt","_hoisted_4","_createCommentVNode","onClick","$event","$options","openModal","_hoisted_5","showModal","_hoisted_6","_hoisted_7","args","closeModal","currentRecipe","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_createTextVNode","created_by_ai","_hoisted_12","preparation_time","_hoisted_13","difficulty","_hoisted_14","number_of_person","_hoisted_15","_hoisted_16","cuisine_type","_hoisted_17","category_type","_hoisted_18","allergens_list","join","ingredients","ingredient","quantity","food_name","formattedInstructionsArray","step","addToShoppingList","name","data","errorMessage","computed","this","instructions","split","filter","trim","methods","fetchUserRecipes","response","axios","get","withCredentials","error","console","post","recipeId","alert","message","mounted","__exports__","render"],"sourceRoot":""}