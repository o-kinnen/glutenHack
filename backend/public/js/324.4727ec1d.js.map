{"version":3,"file":"js/324.4727ec1d.js","mappings":"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","sources":["webpack://frontend/./src/views/AllRecipesPage.vue","webpack://frontend/./src/views/AllRecipesPage.vue?a940"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"card p-4 text-white\">\r\n      <h2>Toutes les recettes</h2>\r\n      <div v-if=\"recipes.length === 0\" class=\"no-recipes\">\r\n        <p>Aucune recette a été rendue public par les autres utilisateurs pour le moment...</p>\r\n      </div>\r\n      <div v-else class=\"buttons-container\">\r\n        <button @click=\"showFilterModal = true\" class=\"filter-button\">\r\n          Allergènes\r\n        </button>\r\n        <button @click=\"toggleFavorites\">\r\n          {{ showFavorites ? 'Toutes les recettes' : 'Favoris' }}\r\n        </button>\r\n        <button \r\n          @click=\"toggleProfileFilter\" \r\n          class=\"profile-button\" \r\n          :class=\"{ active: showProfileFilter }\"\r\n        >\r\n          {{ showProfileFilter ? 'Toutes les recettes' : 'Mon profil' }}\r\n        </button>\r\n      </div>\r\n      <div v-if=\"showFilterModal\" class=\"modal-overlay\">\r\n        <div class=\"modal-content\">\r\n          <div class=\"modal-filters\">\r\n            <label>\r\n              <input type=\"checkbox\" value=\"Gluten\" v-model=\"selectedAllergens\" />\r\n              <span class=\"text-and-icon\">\r\n                <img src=\"/img/gluten.png\" alt=\"Icone\" class=\"restriction-icon\" />\r\n                  Gluten\r\n              </span>\r\n            </label>\r\n            <label>\r\n              <input type=\"checkbox\" value=\"Lait\" v-model=\"selectedAllergens\" />\r\n              <span class=\"text-and-icon\">\r\n                <img src=\"/img/lait.png\" alt=\"Icone\" class=\"restriction-icon\" />\r\n                  Lait\r\n              </span>\r\n            </label>\r\n            <label>\r\n              <input type=\"checkbox\" value=\"Oeufs\" v-model=\"selectedAllergens\" />\r\n              <span class=\"text-and-icon\">\r\n                <img src=\"/img/oeufs.png\" alt=\"Icone\" class=\"restriction-icon\" />\r\n                  Oeufs\r\n              </span>\r\n            </label>\r\n            <label>\r\n              <input type=\"checkbox\" value=\"Arachide\" v-model=\"selectedAllergens\" />\r\n              <span class=\"text-and-icon\">\r\n                <img src=\"/img/arachide.png\" alt=\"Icone\" class=\"restriction-icon\" />\r\n                  Arachide\r\n              </span>\r\n            </label>\r\n            <label>\r\n              <input type=\"checkbox\" value=\"Fruits à coque\" v-model=\"selectedAllergens\" />\r\n              <span class=\"text-and-icon\">\r\n                <img src=\"/img/noix.png\" alt=\"Icone\" class=\"restriction-icon\" />\r\n                  Noix\r\n              </span>\r\n            </label>\r\n            <label>\r\n              <input type=\"checkbox\" value=\"Poissons\" v-model=\"selectedAllergens\" />\r\n              <span class=\"text-and-icon\">\r\n                <img src=\"/img/poissons.png\" alt=\"Icone\" class=\"restriction-icon\" />\r\n                  Poissons\r\n              </span>\r\n            </label>\r\n            <label>\r\n              <input type=\"checkbox\" value=\"Soja\" v-model=\"selectedAllergens\" />\r\n              <span class=\"text-and-icon\">\r\n                <img src=\"/img/soja.png\" alt=\"Icone\" class=\"restriction-icon\" />\r\n                  Soja\r\n              </span>\r\n            </label>\r\n            <label>\r\n              <input type=\"checkbox\" value=\"Crustacés\" v-model=\"selectedAllergens\" />\r\n              <span class=\"text-and-icon\">\r\n                <img src=\"/img/crustacés.png\" alt=\"Icone\" class=\"restriction-icon\" />\r\n                  Crustacés\r\n              </span>\r\n            </label>\r\n            <label>\r\n              <input type=\"checkbox\" value=\"Moutarde\" v-model=\"selectedAllergens\" />\r\n              <span class=\"text-and-icon\">\r\n                <img src=\"/img/moutarde.png\" alt=\"Icone\" class=\"restriction-icon\" />\r\n                  Moutarde\r\n              </span>\r\n            </label>\r\n            <label>\r\n              <input type=\"checkbox\" value=\"Céleri\" v-model=\"selectedAllergens\" />\r\n              <span class=\"text-and-icon\">\r\n                <img src=\"/img/céleri.png\" alt=\"Icone\" class=\"restriction-icon\" />\r\n                  Céleri\r\n              </span>\r\n            </label>\r\n          </div>\r\n          <div class=\"modal-actions\">\r\n            <button @click=\"showFilterModal = false\" class=\"close-button\">Fermer</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div v-if=\"showProfileFilter && userAllergens.length === 0\" class=\"no-recipes\">\r\n        <p>Seules les recettes sans mention d'allergènes sont affichées car vous n'avez spécifié aucun allergène dans votre profil.</p>\r\n      </div>\r\n      <div v-if=\"(showFavorites && filteredRecipes.length === 0) || (filteredRecipes.length === 0 && recipes.length !== 0)\" class=\"no-recipes\">\r\n        <p>Aucune recette trouvée...</p>\r\n      </div>\r\n      <div v-else class=\"recipes-list\">\r\n        <div v-for=\"recipe in filteredRecipes\" :key=\"recipe.recipe_id\" class=\"recipe-card\">\r\n          <h3>{{ recipe.recipe_name }}</h3>\r\n          <div class=\"favorite-icon\" v-if=\"recipe.isFavorite\">\r\n            <i class=\"bi bi-heart-fill\" style=\"color: red;\"></i>\r\n          </div>\r\n          <img v-if=\"recipe.image_url\" :src=\"recipe.image_url\" alt=\"Image de la recette\" class=\"modal-recipe-image\" />\r\n          <button @click=\"openModal(recipe)\">Voir les détails</button>\r\n          <div v-if=\"getMissingAllergens(recipe).length > 0\" class=\"attention-warning\">\r\n            <i class=\"bi bi-exclamation-triangle-fill\"></i>\r\n            <p>\r\n              Ces allergènes ne sont pas pris en compte dans cette recette :\r\n              <strong>{{ getMissingAllergens(recipe).join(', ') }}</strong>.\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div v-if=\"showModal\" class=\"modal-overlay\">\r\n        <div class=\"modal-content-recipe\">\r\n          <h3 style=\"text-align: center;\">{{ currentRecipe.recipe_name }}</h3>\r\n          <img v-if=\"currentRecipe.image_url\" :src=\"currentRecipe.image_url\" alt=\"Image de la recette\" class=\"recipe-image\" />\r\n          <div class=\"recipe-info-container\">\r\n            <div class=\"recipe-info-line\">\r\n              <div class=\"info-item\"><strong>Préparation:</strong><br> {{ currentRecipe.preparation_time }}</div>\r\n              <div class=\"info-item\"><strong>Difficulté:</strong><br> {{ currentRecipe.difficulty }}</div>\r\n              <div class=\"info-item\"><strong>Part(s):</strong><br> {{ currentRecipe.number_of_person }}</div>\r\n            </div>\r\n            <div class=\"recipe-info-line\">\r\n              <div class=\"info-item\"><strong>Cuisine:</strong><br> {{ currentRecipe.cuisine_type }}</div>\r\n              <div class=\"info-item\"><strong>Type:</strong><br> {{ currentRecipe.category_type }}</div>\r\n              <div class=\"info-item\">\r\n                <strong>Sans allergène :</strong><br>\r\n                <span v-if=\"currentRecipe.allergens_list?.length\">\r\n                  <img \r\n                    v-for=\"(allergen, index) in currentRecipe.allergens_list\" \r\n                    :key=\"index\" \r\n                    :src=\"getAllergenIcon(allergen)\" \r\n                    :alt=\"allergen\" \r\n                    :title=\"allergen\"\r\n                    class=\"allergen-icon\"\r\n                  />\r\n                </span>\r\n                <span v-else>Pas de mention</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <h4>Ingrédients</h4>\r\n          <ul>\r\n            <li v-for=\"(ingredient, index) in currentRecipe.ingredients\" :key=\"index\">\r\n              {{ ingredient.quantity }} {{ ingredient.food_name }}\r\n            </li>\r\n          </ul>\r\n          <h4>Instructions</h4>\r\n          <ol>\r\n            <li v-for=\"(step, index) in formattedInstructionsArray\" :key=\"index\">\r\n              {{ step }}\r\n            </li>\r\n          </ol>\r\n          <p style=\"text-align: center;\" v-if=\"currentRecipe.averageRating === 0\">Cette recette n'a pas encore été notée.</p>\r\n          <p style=\"text-align: center;\" v-else>Voici la note reçue de la recette.</p>\r\n          <div class=\"average-rating\">\r\n            <span v-for=\"star in 5\" :key=\"star\" class=\"star\" :class=\"{ filled: star <= currentRecipe.averageRating }\">\r\n              ★\r\n            </span>\r\n          </div>\r\n          <div class=\"rating-container\">\r\n            <p style=\"text-align: center;\">Noter la recette ?</p>\r\n            <div class=\"stars\">\r\n              <span \r\n                v-for=\"star in 5\" \r\n                :key=\"star\" \r\n                class=\"star\" \r\n                :class=\"{ filled: star <= currentRecipe.rating }\"\r\n                @click=\"rateRecipe(star)\"\r\n              >\r\n                ★\r\n              </span>\r\n            </div>\r\n          </div>\r\n          <div class=\"modal-actions-icons\">\r\n            <i class=\"bi bi-heart-fill icon-action\" \r\n              :class=\"{ active: isFavorite }\" \r\n              @click=\"isFavorite ? removeFromFavorites() : addToFavorites()\" \r\n              title=\"Ajouter/Retirer des favoris\">\r\n            </i>\r\n            <i class=\"bi bi-cart-fill icon-action\" \r\n              @click=\"addToShoppingList\" \r\n              title=\"Ajouter à la liste des courses\">\r\n            </i>\r\n            <i class=\"bi bi-file-earmark-pdf-fill icon-action\" \r\n              @click=\"generatePDF\" \r\n              title=\"Exporter en PDF\">\r\n            </i>\r\n            <i class=\"bi bi-x-lg icon-action\" \r\n              @click=\"closeModal\" \r\n              title=\"Fermer\">\r\n            </i>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport { jsPDF } from \"jspdf\";\r\nexport default {\r\n  name: 'AllRecipesPage',\r\n  data() {\r\n    return {\r\n      recipes: [],\r\n      userAllergens: [],\r\n      filteredRecipes: [],\r\n      selectedAllergens: [],\r\n      showProfileFilter: false,\r\n      showModal: false,\r\n      currentRecipe: null,\r\n      errorMessage: '',\r\n      isFavorite: false,\r\n      showFavorites: false,\r\n      showFilterModal: false\r\n    };\r\n  },\r\n  computed: {\r\n    formattedInstructionsArray() {\r\n      return this.currentRecipe?.instructions ? this.currentRecipe.instructions.split('\\n').filter((step) => step.trim() !== '') : [];\r\n    },\r\n  },\r\n  methods: {\r\n    toggleFavorites() {\r\n      this.showFavorites = !this.showFavorites;\r\n      this.filterRecipes();\r\n    },\r\n    toggleProfileFilter() {\r\n      this.showProfileFilter = !this.showProfileFilter;\r\n      this.filterRecipes();\r\n    },\r\n    getAllergenIcon(allergen) {\r\n      const allergenIcons = {\r\n        Gluten: '/img/gluten.png',\r\n        Lait: '/img/lait.png',\r\n        Oeufs: '/img/oeufs.png',\r\n        Arachide: '/img/arachide.png',\r\n        Noix: '/img/noix.png',\r\n        Poissons: '/img/poissons.png',\r\n        Soja: '/img/soja.png',\r\n        Crustacés: '/img/crustacés.png',\r\n        Moutarde: '/img/moutarde.png',\r\n        Céleri: '/img/céleri.png',\r\n      };\r\n      return allergenIcons[allergen] || '/img/plat.png';\r\n    },\r\n    filterRecipes() {\r\n      this.filteredRecipes = this.recipes.filter((recipe) => {\r\n      const matchesFavorites = this.showFavorites ? recipe.isFavorite : true;\r\n      const matchesAllergens = this.selectedAllergens.every(\r\n        (allergen) => recipe.allergens_list?.includes(allergen)\r\n      );\r\n      const matchesProfile = this.showProfileFilter\r\n        ? this.userAllergens.length === 0\r\n        ? !recipe.allergens_list || \r\n        recipe.allergens_list.length === 0 || \r\n        recipe.allergens_list.includes(\"Pas de mention\")\r\n        : this.userAllergens.every((allergen) =>\r\n          recipe.allergens_list?.includes(allergen)\r\n        )\r\n      : true;\r\n        return matchesFavorites && matchesAllergens && matchesProfile;\r\n      });\r\n    },\r\n    async convertImageToBase64(url) {\r\n      return new Promise((resolve, reject) => {\r\n        const img = new Image();\r\n        img.crossOrigin = \"Anonymous\";\r\n        img.onload = () => {\r\n          const canvas = document.createElement(\"canvas\");\r\n          canvas.width = img.width;\r\n          canvas.height = img.height;\r\n          const ctx = canvas.getContext(\"2d\");\r\n          ctx.drawImage(img, 0, 0);\r\n          resolve(canvas.toDataURL(\"image/png\"));\r\n        };\r\n        img.onerror = (error) => reject(error);\r\n        img.src = url;\r\n      });\r\n    },\r\n    async generatePDF() {\r\n      if (!this.currentRecipe) {\r\n        alert(\"Aucune recette sélectionnée pour générer le PDF.\");\r\n        return;\r\n      }\r\n      const doc = new jsPDF();\r\n      let currentY = 10;\r\n      doc.setFontSize(20);\r\n      doc.text(this.currentRecipe.recipe_name, 10, currentY);\r\n      currentY += 10;\r\n      doc.setFontSize(12);\r\n      doc.text(`Préparation: ${this.currentRecipe.preparation_time}`, 10, currentY);\r\n      currentY += 10;\r\n      doc.text(`Difficulté: ${this.currentRecipe.difficulty}`, 10, currentY);\r\n      currentY += 10;\r\n      doc.text(`Part(s): ${this.currentRecipe.number_of_person}`, 10, currentY);\r\n      currentY += 10;\r\n      doc.text(`Cuisine: ${this.currentRecipe.cuisine_type}`, 10, currentY);\r\n      currentY += 10;\r\n      doc.text(`Type: ${this.currentRecipe.category_type}`, 10, currentY);\r\n      currentY += 10;\r\n      const allergens = this.currentRecipe.allergens_list?.length\r\n        ? this.currentRecipe.allergens_list.join(\", \")\r\n        : \"Aucun allergène spécifié.\";\r\n      doc.text(`Sans allergène: ${allergens}`, 10, currentY);\r\n      currentY += 10;\r\n      if (this.currentRecipe.image_url) {\r\n        try {\r\n          const imageBase64 = await this.convertImageToBase64(this.currentRecipe.image_url);\r\n          doc.addImage(imageBase64, \"PNG\", 10, currentY, 80, 80);\r\n          currentY += 90;\r\n        } catch (error) {\r\n          console.error(\"Erreur lors du chargement de l'image :\", error);\r\n        }\r\n      }\r\n      doc.setFontSize(14);\r\n      doc.text(\"Ingrédients:\", 10, currentY);\r\n      currentY += 10;\r\n      doc.setFontSize(12);\r\n      this.currentRecipe.ingredients.forEach((ingredient) => {\r\n        doc.text(`${ingredient.quantity} ${ingredient.food_name}`, 10, currentY);\r\n        currentY += 10;\r\n      });\r\n      doc.setFontSize(14);\r\n      doc.text(\"Instructions:\", 10, currentY);\r\n      currentY += 10;\r\n      doc.setFontSize(12);\r\n      const lineHeight = 10;\r\n      this.formattedInstructionsArray.forEach((step, index) => {\r\n        const textLines = doc.splitTextToSize(`${index + 1}. ${step}`, 190);\r\n        doc.text(textLines, 10, currentY);\r\n        currentY += textLines.length * lineHeight;\r\n      });\r\n      doc.save(`${this.currentRecipe.recipe_name}.pdf`);\r\n    },\r\n    async rateRecipe(star) {\r\n      try {\r\n        if (!this.currentRecipe?.recipe_id) {\r\n          throw new Error('Aucune recette sélectionnée.');\r\n        }\r\n        const response = await axios.post(`${process.env.VUE_APP_URL_BACKEND}/recipes/rate`, {\r\n          recipeId: this.currentRecipe.recipe_id,\r\n          rating: star,\r\n        }, { withCredentials: true });\r\n        alert(response.data.message || 'Note enregistrée avec succès.');\r\n        this.currentRecipe.rating = star;\r\n        await this.fetchAverageRating(this.currentRecipe.recipe_id);\r\n      } catch (error) {\r\n        console.error('Erreur lors de l\\'envoi de la note :', error);\r\n        alert('Une erreur est survenue lors de l\\'enregistrement de la note.');\r\n      }\r\n    },\r\n    async fetchAverageRating(recipe_id) {\r\n      try {\r\n        const response = await axios.get(`${process.env.VUE_APP_URL_BACKEND}/recipes/rate/average/${recipe_id}`, {\r\n        withCredentials: true,\r\n      });\r\n        this.currentRecipe.averageRating = parseFloat(response.data.averageRating) || 0;\r\n      } catch (error) {\r\n        console.error('Erreur lors de la récupération de la moyenne des notes :', error);\r\n        this.currentRecipe.averageRating = 0;\r\n        alert('Impossible de récupérer la moyenne des notes.');\r\n      }\r\n    },\r\n    async fetchRecipes() {\r\n      try {\r\n        const response = await axios.get(`${process.env.VUE_APP_URL_BACKEND}/recipes/all`, {\r\n          withCredentials: true ,\r\n        });\r\n        const favoritesResponse = await axios.get(`${process.env.VUE_APP_URL_BACKEND}/recipes/favorites`, {\r\n          withCredentials: true,\r\n        });\r\n        const favoriteIds = favoritesResponse.data.map(fav => fav.recipe_id);\r\n        this.recipes = response.data.map(recipe => ({\r\n          ...recipe,\r\n          isFavorite: favoriteIds.includes(recipe.recipe_id),\r\n        }));\r\n        this.filterRecipes();\r\n      } catch (error) {\r\n        console.error('Erreur lors de la récupération des recettes :', error);\r\n        this.errorMessage = 'Une erreur est survenue lors de la récupération des recettes. Veuillez réessayer plus tard.';\r\n      }\r\n    },\r\n    async addToFavorites() {\r\n      try {\r\n        if (!this.currentRecipe?.recipe_id) {\r\n          throw new Error(\"Aucune recette sélectionnée pour ajouter aux favoris.\");\r\n        }\r\n        const response = await axios.post(\r\n          `${process.env.VUE_APP_URL_BACKEND}/recipes/favorites/add`,\r\n          {\r\n            recipeId: this.currentRecipe.recipe_id,\r\n          },\r\n          { withCredentials: true }\r\n        );\r\n        alert(response.data.message || 'Recette ajoutée aux favoris avec succès.');\r\n        this.isFavorite = true;\r\n        this.currentRecipe.isFavorite = true;\r\n        const recipeIndex = this.recipes.findIndex(r => r.recipe_id === this.currentRecipe.recipe_id);\r\n        if (recipeIndex !== -1) {\r\n          this.recipes[recipeIndex].isFavorite = true;\r\n        }\r\n        this.filterRecipes();\r\n      } catch (error) {\r\n        if (error.response && error.response.status === 409) {\r\n          alert('Cette recette est déjà dans vos favoris.');\r\n        } else {\r\n          console.error(\"Erreur lors de l'ajout aux favoris :\", error);\r\n          alert(\"Une erreur est survenue lors de l'ajout aux favoris.\");\r\n        }\r\n      }\r\n    },\r\n    async checkIfFavorite(recipeId) {\r\n      try {\r\n        const response = await axios.get(\r\n          `${process.env.VUE_APP_URL_BACKEND}/recipes/favorites/check/${recipeId}`,\r\n          { withCredentials: true }\r\n        );\r\n        this.isFavorite = response.data.isFavorite;\r\n      } catch (error) {\r\n        console.error(\"Erreur lors de la vérification du statut des favoris :\", error);\r\n        this.isFavorite = false;\r\n      }\r\n    },\r\n    async removeFromFavorites() {\r\n      try {\r\n        if (!this.currentRecipe?.recipe_id) {\r\n          throw new Error(\"Aucune recette sélectionnée pour retirer des favoris.\");\r\n        }\r\n        const response = await axios.delete(\r\n          `${process.env.VUE_APP_URL_BACKEND}/recipes/favorites/remove/${this.currentRecipe.recipe_id}`,\r\n          { withCredentials: true }\r\n        );\r\n        alert(response.data.message || 'Recette retirée des favoris avec succès.');\r\n        this.isFavorite = false;\r\n        this.currentRecipe.isFavorite = false;\r\n        const recipeIndex = this.recipes.findIndex(r => r.recipe_id === this.currentRecipe.recipe_id);\r\n        if (recipeIndex !== -1) {\r\n          this.recipes[recipeIndex].isFavorite = false;\r\n        }\r\n        this.filterRecipes();\r\n      } catch (error) {\r\n        console.error(\"Erreur lors du retrait des favoris :\", error);\r\n        alert(\"Une erreur est survenue lors du retrait des favoris.\");\r\n      }\r\n    }, \r\n    async loadUserAllergens() {\r\n      this.userAllergens = await this.fetchUserAllergens();\r\n    },\r\n    async fetchUserAllergens() {\r\n      try {\r\n        const response = await axios.get(`${process.env.VUE_APP_URL_BACKEND}/users/restrictions`, {\r\n        withCredentials: true\r\n      });\r\n      return response.data.restrictions || [];\r\n      } catch (error) {\r\n        console.error('Erreur lors de la récupération des restrictions alimentaires :', error);\r\n        alert('Impossible de récupérer les restrictions alimentaires. Veuillez réessayer.');\r\n        return [];\r\n      }\r\n    },\r\n    getMissingAllergens(recipe) {\r\n      if (!this.userAllergens.length) return [];\r\n      if (!recipe.allergens_list) return [...this.userAllergens];\r\n      return this.userAllergens.filter((allergen) => !recipe.allergens_list.includes(allergen));\r\n    },\r\n    async addToShoppingList() {\r\n      try {\r\n        const response = await axios.post(\r\n          `${process.env.VUE_APP_URL_BACKEND}/shopping-list/add`,\r\n          {\r\n            recipeId: this.currentRecipe.recipe_id,\r\n          },\r\n          { withCredentials: true }\r\n        );\r\n        alert(response.data.message);\r\n      } catch (error) {\r\n        console.error('Erreur lors de l\\'ajout à la liste des courses:', error);\r\n        alert('Une erreur est survenue.');\r\n      }\r\n    },\r\n    async openModal(recipe) {\r\n      this.currentRecipe = { ...recipe, rating: recipe.rating || 0 };\r\n      this.showModal = true;\r\n      if (this.currentRecipe?.recipe_id) {\r\n        await this.fetchAverageRating(this.currentRecipe.recipe_id);\r\n        await this.checkIfFavorite(this.currentRecipe.recipe_id);\r\n      }\r\n    },\r\n    closeModal() {\r\n      this.showModal = false;\r\n      this.currentRecipe = null;\r\n    }\r\n  },\r\n  mounted() {\r\n    this.fetchRecipes();\r\n    this.loadUserAllergens();\r\n  },\r\n  watch: {\r\n    selectedAllergens: {\r\n      handler() {\r\n        this.filterRecipes();\r\n      },\r\n      deep: true,\r\n    },\r\n    showFavorites: \"filterRecipes\",\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.card {\r\n  background-color: #212121;\r\n  border: none;\r\n  border-radius: 8px;\r\n  width: 90%;\r\n  max-width: 100%;\r\n  padding: 20px;\r\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n  max-height: 80vh;\r\n  overflow-y: auto;\r\n}\r\n.container {\r\n  height: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.recipes-list {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n  gap: 20px;\r\n}\r\n.recipe-card {\r\n  background: #171717;\r\n  color: #fff;\r\n  padding: 20px;\r\n  border-radius: 10px;\r\n  width: 300px;\r\n  text-align: center;\r\n}\r\n.recipe-card img {\r\n  max-width: 100%;\r\n  border-radius: 10px;\r\n}\r\nbutton {\r\n  background-color: #444;\r\n  color: white;\r\n  padding: 10px;\r\n  border: none;\r\n  border-radius: 5px;\r\n  cursor: pointer;\r\n}\r\nbutton:hover {\r\n  background-color: #555;\r\n}\r\n.modal-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 9999;\r\n}\r\n.modal-content {\r\n  background-color: #212121;\r\n  color: #fff;\r\n  padding: 20px;\r\n  border-radius: 12px;\r\n  max-width: 400px;\r\n  width: 100%;\r\n  animation: fadeIn 0.3s ease-out;\r\n}\r\n.close-btn {\r\n  background: none;\r\n  border: none;\r\n  font-size: 20px;\r\n  cursor: pointer;\r\n  position: absolute;\r\n  top: 10px;\r\n  right: 10px;\r\n}\r\n.recipe-info-container {\r\n  margin-bottom: 20px;\r\n}\r\n.recipe-info-line {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-bottom: 10px;\r\n  gap: 15px;\r\n}\r\n.error-message {\r\n  background-color: #ffcccc;\r\n  color: #cc0000;\r\n  border: 1px solid #cc0000;\r\n  padding: 10px;\r\n  margin: 20px auto;\r\n  max-width: 600px;\r\n  text-align: center;\r\n  border-radius: 5px;\r\n}\r\n.no-recipes {\r\n  text-align: center;\r\n  font-size: 1.2em;\r\n  color: #666;\r\n  margin-top: 20px;\r\n}\r\n.recipe-image {\r\n  width: 100%;\r\n  max-width: 200px;\r\n  height: auto;\r\n  border-radius: 10px;\r\n  margin-top: 10px;\r\n  object-fit: cover;\r\n}\r\n.modal-recipe-image {\r\n  width: 100%;\r\n  max-width: 400px;\r\n  height: auto;\r\n  border-radius: 10px;\r\n  margin-bottom: 20px;\r\n  object-fit: contain;\r\n}\r\n.attention-warning {\r\n  margin-top: 10px;\r\n  color: red;\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n}\r\n.attention-warning i {\r\n  font-size: 20px;\r\n}\r\n.attention-warning p {\r\n  font-size: 0.9em;\r\n  margin: 0;\r\n}\r\n.favorite-icon {\r\n  display: inline-block;\r\n  margin-left: 10px;\r\n  font-size: 20px;\r\n}\r\n.favorite-icon i {\r\n  color: red;\r\n}\r\n.rating-container {\r\n  margin-top: 20px;\r\n  text-align: center;\r\n}\r\n.stars {\r\n  display: flex;\r\n  justify-content: center;\r\n  gap: 5px;\r\n  font-size: 24px;\r\n  cursor: pointer;\r\n}\r\n.star {\r\n  color: #ccc;\r\n  transition: color 0.2s;\r\n}\r\n.star.filled {\r\n  color: #C56929;\r\n}\r\n.star:hover {\r\n  color: #C56929;\r\n}\r\n.average-rating {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  gap: 5px;\r\n}\r\n.average-rating .star {\r\n  font-size: 20px;\r\n  color: #ccc;\r\n}\r\n.average-rating .star.filled {\r\n  color: #C56929;\r\n}\r\n.allergen-filters {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  justify-content: center;\r\n  gap: 15px;\r\n  margin-bottom: 20px;\r\n}\r\n.allergen-filters label {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 5px;\r\n  font-size: 1em;\r\n  cursor: pointer;\r\n}\r\n.allergen-filters input[type=\"checkbox\"] {\r\n  margin-right: 5px;\r\n}\r\nbutton {\r\n    background-color: #BA9371;\r\n    color: white;\r\n    border: none;\r\n    transition: all 0.3s ease;\r\n    border-radius: 4px;\r\n    padding: 10px;\r\n    width: auto;\r\n}\r\nbutton:hover {\r\n    background-color: #C56929;\r\n    transform: scale(1.05);\r\n    color: white;\r\n}\r\ninput[type=\"checkbox\"] {\r\n  appearance: none;\r\n  width: 20px;\r\n  height: 20px;\r\n  border: 2px solid white;\r\n  border-radius: 4px;\r\n  background-color: #fff;\r\n  cursor: pointer;\r\n  position: relative;\r\n}\r\ninput[type=\"checkbox\"]:checked {\r\n  background-color: #C56929;\r\n  border-color: #C56929;\r\n}\r\ninput[type=\"checkbox\"]:checked::after {\r\n  content: \"✓\";\r\n  color: #ffffff;\r\n  font-size: 16px;\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n}\r\n.modal-overlay {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background: rgba(0, 0, 0, 0.5);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  z-index: 9999;\r\n}\r\n.modal-content {\r\n  background-color: #212121;\r\n  color: #fff;\r\n  padding: 30px;\r\n  border-radius: 15px;\r\n  max-width: 500px;\r\n  width: 100%;\r\n  animation: fadeIn 0.3s ease-out;\r\n}\r\n.modal-content-recipe {\r\n  max-height: 90vh;\r\n  overflow-y: auto;\r\n  background: #212121;\r\n  padding: 20px;\r\n  border-radius: 10px;\r\n  width: 80%;\r\n  max-width: 700px;\r\n  text-align: left;\r\n}\r\n.modal-filters {\r\n  display: grid;\r\n  grid-template-columns: repeat(2, 1fr);\r\n  gap: 15px;\r\n  margin-bottom: 20px;\r\n}\r\n.modal-filters label {\r\n  display: flex;\r\n  font-size: 18px;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n.modal-actions {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-top: 20px;\r\n}\r\n.text-and-icon {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 8px;\r\n  width: 100%;\r\n  white-space: nowrap;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n}\r\n.restriction-icon {\r\n  width: 24px;\r\n  height: 24px;\r\n  object-fit: contain;\r\n  transition: all 0.3s ease;\r\n}\r\n.restriction-icon:hover {\r\n  transform: scale(1.2);\r\n  opacity: 0.8;\r\n}\r\n@keyframes fadeIn {\r\n  from {\r\n    opacity: 0;\r\n    transform: scale(0.95);\r\n  }\r\n  to {\r\n    opacity: 1;\r\n    transform: scale(1);\r\n  }\r\n}\r\n.buttons-container {\r\n  display: flex;\r\n  justify-content: center;\r\n  gap: 20px;\r\n  margin-bottom: 20px;\r\n}\r\n.modal-actions-icons {\r\n  display: flex;\r\n  justify-content: space-around;\r\n  margin-top: 20px;\r\n}\r\n.icon-action {\r\n  font-size: 24px;\r\n  color: #BA9371;\r\n  cursor: pointer;\r\n  transition: transform 0.2s ease, color 0.3s ease;\r\n}\r\n.icon-action:hover {\r\n  transform: scale(1.2);\r\n  color: #C56929;\r\n}\r\n.icon-action.active {\r\n  color: red;\r\n}\r\n.allergen-icon {\r\n  width: 24px;\r\n  height: 24px;\r\n  margin-right: 5px;\r\n  vertical-align: middle;\r\n  cursor: pointer;\r\n  transition: transform 0.2s ease;\r\n}\r\n.allergen-icon:hover {\r\n  transform: scale(1.2);\r\n}\r\n</style>","import { render } from \"./AllRecipesPage.vue?vue&type=template&id=00fc54f5&scoped=true\"\nimport script from \"./AllRecipesPage.vue?vue&type=script&lang=js\"\nexport * from \"./AllRecipesPage.vue?vue&type=script&lang=js\"\n\nimport \"./AllRecipesPage.vue?vue&type=style&index=0&id=00fc54f5&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-00fc54f5\"]])\n\nexport default __exports__"],"names":["class","key","style","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","$data","recipes","length","_hoisted_3","_cache","_hoisted_4","onClick","$event","showFilterModal","args","$options","toggleFavorites","showFavorites","toggleProfileFilter","_normalizeClass","active","showProfileFilter","_hoisted_5","_hoisted_6","_hoisted_7","type","value","selectedAllergens","src","alt","_createTextVNode","_hoisted_8","_createCommentVNode","userAllergens","_hoisted_9","filteredRecipes","_hoisted_10","_hoisted_11","_Fragment","_renderList","recipe","recipe_id","_toDisplayString","recipe_name","isFavorite","_hoisted_12","image_url","_hoisted_13","openModal","_hoisted_14","getMissingAllergens","_hoisted_15","join","showModal","_hoisted_16","_hoisted_17","_hoisted_18","currentRecipe","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","preparation_time","_hoisted_23","difficulty","_hoisted_24","number_of_person","_hoisted_25","_hoisted_26","cuisine_type","_hoisted_27","category_type","_hoisted_28","allergens_list","_hoisted_29","allergen","index","getAllergenIcon","title","_hoisted_30","_hoisted_31","ingredients","ingredient","quantity","food_name","formattedInstructionsArray","step","averageRating","_hoisted_32","_hoisted_33","_hoisted_34","star","filled","_hoisted_35","_hoisted_36","rating","rateRecipe","_hoisted_37","_hoisted_38","removeFromFavorites","addToFavorites","addToShoppingList","generatePDF","closeModal","name","data","errorMessage","computed","this","instructions","split","filter","trim","methods","filterRecipes","allergenIcons","Gluten","Lait","Oeufs","Arachide","Noix","Poissons","Soja","Crustacés","Moutarde","Céleri","matchesFavorites","matchesAllergens","every","includes","matchesProfile","convertImageToBase64","url","Promise","resolve","reject","img","Image","crossOrigin","onload","canvas","document","createElement","width","height","ctx","getContext","drawImage","toDataURL","onerror","error","alert","doc","jsPDF","currentY","setFontSize","text","allergens","imageBase64","addImage","console","forEach","lineHeight","textLines","splitTextToSize","save","Error","response","axios","post","recipeId","withCredentials","message","fetchAverageRating","get","parseFloat","fetchRecipes","favoritesResponse","favoriteIds","map","fav","recipeIndex","findIndex","r","status","checkIfFavorite","delete","loadUserAllergens","fetchUserAllergens","restrictions","mounted","watch","handler","deep","__exports__","render"],"sourceRoot":""}