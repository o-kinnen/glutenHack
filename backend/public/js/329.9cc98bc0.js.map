{"version":3,"file":"js/329.9cc98bc0.js","mappings":"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","sources":["webpack://frontend/./src/views/LoginPage.vue","webpack://frontend/./src/views/LoginPage.vue?fce3"],"sourcesContent":["<template>\r\n    <div class=\"auth-page\">\r\n    <div class=\"container mt-5 text-center\">\r\n        <div class=\"row justify-content-center\">\r\n        <div class=\"card p-4 text-white\">\r\n            <h2 class=\"mb-4\">Se connecter</h2>\r\n            <Form @submit=\"login\">\r\n                <div class=\"mb-3\">\r\n                    <label for=\"email\" class=\"form-label\">Adresse mail</label>\r\n                    <Field \r\n                        id=\"email\" \r\n                        name=\"email\" \r\n                        type=\"email\" \r\n                        class=\"form-control\" \r\n                        v-model=\"email\"\r\n                        rules=\"required|email\"\r\n                    />\r\n                    <ErrorMessage name=\"email\" class=\"text-danger\"/>\r\n                </div>\r\n                <div class=\"mb-3\">\r\n                    <label for=\"password\" class=\"form-label\">Mot de passe</label>\r\n                    <Field \r\n                        id=\"password\" \r\n                        name=\"password\" \r\n                        type=\"password\" \r\n                        class=\"form-control\" \r\n                        v-model=\"password\"\r\n                        rules=\"required\"\r\n                    />\r\n                    <ErrorMessage name=\"password\" class=\"text-danger\"/>\r\n                </div>\r\n                <button type=\"submit\" class=\"btn btn-light btn-block mb-3\">Se connecter</button>\r\n                <div v-if=\"errorMessage\" class=\"alert alert-danger mt-3\">{{ errorMessage }}</div>\r\n            </Form>\r\n            <router-link to=\"/password\" class=\"router-link\">Mot de passe oublié ?</router-link>\r\n            <router-link to=\"/signup\" class=\"router-link\">Pas de compte ?</router-link>\r\n        </div>\r\n    </div>\r\n</div>\r\n</div>\r\n</template>\r\n\r\n<script>\r\nimport { defineRule, Form, Field, ErrorMessage } from 'vee-validate';\r\n\r\ndefineRule('required', value => {\r\n  return value ? true : 'Veuillez remplir ce champ correctement.';\r\n});\r\n\r\ndefineRule('email', value => {\r\n  const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;\r\n  if (!emailRegex.test(value)) {\r\n    return 'Le format de l\\'adresse mail est invalide.';\r\n  }\r\n  return true;\r\n});\r\n\r\nexport default {\r\n    name: 'LoginPage',\r\n    components: {\r\n        Form,\r\n        Field,\r\n        ErrorMessage,\r\n    },\r\n    data() {\r\n        return {\r\n            email: '',\r\n            password: '',\r\n            errorMessage: '',\r\n        }\r\n    },\r\n    methods: {\r\n        async login () {\r\n            try {\r\n                const response = await fetch(`${process.env.VUE_APP_URL_BACKEND}/users/login`, {\r\n                    method: 'POST',\r\n                    headers: { 'Content-Type': 'application/json' },\r\n                    credentials: 'include',\r\n                    body: JSON.stringify({\r\n                        email: this.email,\r\n                        password: this.password\r\n                    })\r\n                })\r\n                const data = await response.json()\r\n                if (response.ok) {\r\n                    this.$store.dispatch('login')\r\n                    this.$router.push('/profile')\r\n                } else {\r\n                    if (response.status === 401) {\r\n                        this.errorMessage = 'Mot de passe incorrect.'\r\n                    } else if (response.status === 404) {\r\n                        this.errorMessage = 'Compte non trouvé.'\r\n                    } else {\r\n                        this.errorMessage = data.message || 'Échec de la connexion. Veuillez vérifier votre email et votre mot de passe.'\r\n                    }\r\n                }\r\n            } catch (error) {\r\n                this.errorMessage = 'Erreur lors de la communication avec le serveur. Veuillez réessayer plus tard.'\r\n            }   \r\n        }\r\n    }\r\n}\r\n</script>\r\n  \r\n<style>\r\n.card {\r\n    background-color: #212121;\r\n    border: none;\r\n    border-radius: 8px;\r\n    width: 90%;\r\n    max-width: 400px;\r\n    padding: 20px;\r\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n}\r\nbutton.btn {\r\n    background-color: #BA9371;\r\n    color: white;\r\n    border: none;\r\n    transition: all 0.3s ease;\r\n}\r\nbutton.btn:hover {\r\n    background-color: #C56929;\r\n    transform: scale(1.05);\r\n    color: white;\r\n}\r\n.router-link {\r\n    text-decoration: none!important;\r\n    color: #ffffff;\r\n    transition: text-decoration 0.3s;\r\n}\r\n.router-link:hover {\r\n    text-decoration: underline!important;\r\n}\r\n</style>\r\n\r\n","import { render } from \"./LoginPage.vue?vue&type=template&id=f7e3c46e\"\nimport script from \"./LoginPage.vue?vue&type=script&lang=js\"\nexport * from \"./LoginPage.vue?vue&type=script&lang=js\"\n\nimport \"./LoginPage.vue?vue&type=style&index=0&id=f7e3c46e&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_createVNode","_component_Form","onSubmit","$options","login","default","_withCtx","_hoisted_5","for","_component_Field","id","name","type","modelValue","$data","email","_cache","$event","rules","_component_ErrorMessage","_hoisted_6","password","errorMessage","_hoisted_7","_toDisplayString","_createCommentVNode","_","_component_router_link","to","_createTextVNode","defineRule","value","emailRegex","test","components","Form","Field","ErrorMessage","data","methods","response","fetch","method","headers","credentials","body","JSON","stringify","this","json","ok","$store","dispatch","$router","push","status","message","error","__exports__","render"],"sourceRoot":""}