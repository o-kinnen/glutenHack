{"version":3,"file":"js/375.cbf594c6.js","mappings":"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","sources":["webpack://frontend/./src/views/GroceryList.vue","webpack://frontend/./src/views/GroceryList.vue?46a7"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"card p-4 text-white\">\r\n      <h1 class=\"text-white\">Ma liste des courses</h1>\r\n      <div v-if=\"errorMessage\" class=\"empty-message\">\r\n        {{ errorMessage }}\r\n      </div>\r\n      <div v-else-if=\"shoppingItems.length === 0\" class=\"empty-message\">\r\n        La liste est vide...\r\n      </div>\r\n      <div v-else>\r\n        <div class=\"action-buttons\">\r\n          <button @click=\"toggleSort\" class=\"button sort-btn\">\r\n            {{ categoriesVisible ? 'Trier' : 'Trier' }}\r\n          </button>\r\n          <button @click=\"exportToFile\" class=\"button export-btn\">Exporter</button>\r\n        </div>\r\n      </div>\r\n      <div v-if=\"categoriesVisible\">\r\n        <div v-for=\"(items, category) in groupedItems\" :key=\"category\" class=\"category-section\">\r\n          <h2 class=\"category-title\"><img :src=\"getCategoryIcon(category)\" :alt=\"category\" class=\"category-icon\">{{ category }}</h2>\r\n          <ul class=\"grocery-list\">\r\n            <li v-for=\"(item, index) in items\" :key=\"index\" class=\"grocery-item\">\r\n              <div class=\"grocery-details\">\r\n                <span class=\"food-name\">{{ item.food_name }}</span>\r\n                <span v-if=\"isValidQuantity(item.quantity)\" class=\"food-name\">({{ item.quantity }})</span>\r\n              </div>\r\n              <div class=\"grocery-actions\">\r\n                <div v-if=\"isQuantityNumeric(item.quantity)\" class=\"update-section\">\r\n                  <input type=\"number\" v-model.number=\"quantities[item.food_id]\" placeholder=\"Nouvelle quantité\" class=\"quantity-input\"/>\r\n                  <div class=\"modal-actions-icons\">\r\n                    <i class=\"bi bi-plus-circle-fill icon-action\" \r\n                      @click=\"updateQuantity(item.food_id, 'add')\" \r\n                      title=\"Ajouter\">\r\n                    </i>\r\n                    <span class=\"tooltip-text\">Ajouter</span>\r\n                    <i class=\"bi bi-dash-circle-fill icon-action\" \r\n                      @click=\"updateQuantity(item.food_id, 'subtract')\" \r\n                      title=\"Diminuer\">\r\n                    </i>\r\n                    <span class=\"tooltip-text\">Diminuer</span>\r\n                    <i class=\"bi bi-trash-fill icon-action\" \r\n                      @click=\"deleteItem(item.food_name)\" \r\n                      title=\"Supprimer\">\r\n                    </i>\r\n                    <span class=\"tooltip-text\">Supprimer</span>\r\n                  </div>\r\n                </div>\r\n                <div v-else>\r\n                <div class=\"modal-actions-icons\">\r\n                  <i\r\n                    class=\"bi bi-trash-fill icon-action\"\r\n                    @click=\"deleteItem(item.food_name)\"\r\n                    title=\"Supprimer\">\r\n                  </i>\r\n                  <span class=\"tooltip-text\">Supprimer</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n    <ul v-else class=\"grocery-list\">\r\n      <li v-for=\"(item, index) in shoppingItems\" :key=\"index\" class=\"grocery-item\">\r\n        <div class=\"grocery-details\">\r\n          <span class=\"food-name\">{{ item.food_name }}</span>\r\n          <span v-if=\"isValidQuantity(item.quantity)\" class=\"food-name\">({{ item.quantity }})</span>\r\n        </div>\r\n        <div class=\"grocery-actions\">\r\n          <div v-if=\"isQuantityNumeric(item.quantity)\" class=\"update-section\">\r\n            <input v-if=\"isQuantityNumeric(item.quantity)\" type=\"number\" v-model.number=\"quantities[item.food_id]\" placeholder=\"Nouvelle quantité\" class=\"quantity-input\"/>\r\n              <div class=\"modal-actions-icons\">\r\n                <i class=\"bi bi-plus-circle-fill icon-action\" \r\n                  @click=\"updateQuantity(item.food_id, 'add')\" \r\n                  title=\"Ajouter\">\r\n                </i>\r\n                <span class=\"tooltip-text\">Ajouter</span>\r\n                <i class=\"bi bi-dash-circle-fill icon-action\" \r\n                  @click=\"updateQuantity(item.food_id, 'subtract')\" \r\n                  title=\"Diminuer\">\r\n                </i>\r\n                <span class=\"tooltip-text\">Diminuer</span>\r\n                <i class=\"bi bi-trash-fill icon-action\" \r\n                  @click=\"deleteItem(item.food_name)\" \r\n                  title=\"Supprimer\">\r\n                </i>\r\n                <span class=\"tooltip-text\">Supprimer</span>\r\n              </div>\r\n            </div>\r\n            <div v-else>\r\n              <div class=\"modal-actions-icons\">\r\n                <i class=\"bi bi-trash-fill icon-action\"\r\n                  @click=\"deleteItem(item.food_name)\"\r\n                  title=\"Supprimer\">\r\n                </i>\r\n                <span class=\"tooltip-text\">Supprimer</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nexport default {\r\n  name: 'GroceryPage',\r\n  data() {\r\n    return {\r\n      shoppingItems: [],\r\n      quantities: {},\r\n      groupedItems: {},\r\n      categoriesVisible: false,\r\n      errorMessage: '',\r\n    };\r\n  },\r\n  methods: {\r\n    handleError(error) {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      console.error('Erreur :', error);\r\n    }\r\n    this.errorMessage = \"Rien pour le moment\";\r\n  },\r\n    getCategoryIcon(category) {\r\n      const icons = {\r\n        'Produits laitiers': '/img/lait.png',\r\n        'Noix': '/img/fruits à coque.png',\r\n        'Fruits': '/img/fruits.png',\r\n        'Légumes': '/img/céleri.png',\r\n        'Viande': '/img/viande.png',\r\n        'Féculents': '/img/gluten.png',\r\n        'Épices': '/img/épices.png',\r\n        'Poissons': '/img/poissons.png',\r\n        'Crustacés': '/img/crustacés.png',\r\n        'Sauces': '/img/moutarde.png',\r\n      };\r\n      return icons[category] || '/img/shopping.png';\r\n    },\r\n    groupItemsByCategory() {\r\n      const categoriesOrder = [\r\n        'Produits laitiers',\r\n        'Noix',\r\n        'Fruits',\r\n        'Légumes',\r\n        'Viande',\r\n        'Féculents',\r\n        'Épices',\r\n        'Poissons',\r\n        'Crustacés',\r\n        'Sauces'\r\n      ];\r\n      this.groupedItems = {};\r\n      this.shoppingItems.forEach(item => {\r\n        const category = item.category ? item.category.charAt(0).toUpperCase() + item.category.slice(1) : 'Autres';\r\n        if (!this.groupedItems[category]) {\r\n          this.groupedItems[category] = [];\r\n        }\r\n        this.groupedItems[category].push(item);\r\n      });\r\n      this.groupedItems = Object.keys(this.groupedItems)\r\n        .sort((a, b) => categoriesOrder.indexOf(a) - categoriesOrder.indexOf(b))\r\n        .reduce((acc, key) => {\r\n        acc[key] = this.groupedItems[key];\r\n        return acc;\r\n      }, {});\r\n    },\r\n    toggleSort() {\r\n      if (this.categoriesVisible) {\r\n        this.categoriesVisible = false;\r\n      } else {\r\n        this.groupItemsByCategory();\r\n        this.categoriesVisible = true;\r\n      }\r\n    },\r\n    isValidQuantity(quantity) {\r\n      return (\r\n        quantity &&\r\n        typeof quantity === \"string\" &&\r\n        !isNaN(parseFloat(quantity)) &&\r\n        quantity.toUpperCase() !== \"N/A\"\r\n      );\r\n    },\r\n    async fetchShoppingList() {\r\n      try {\r\n        const response = await axios.get(`${process.env.VUE_APP_URL_BACKEND}/shopping-list/`, {\r\n          withCredentials: true,\r\n        });\r\n        this.listId = response.data.listId;\r\n        this.shoppingItems = response.data.items;\r\n        this.shoppingItems.forEach((item) => {\r\n          item.category = item.category ? item.category : 'Autres';\r\n          if (this.isQuantityNumeric(item.quantity)) {\r\n            const match = item.quantity.match(/^(\\d+)/);\r\n            this.quantities[item.food_id] = match ? parseInt(match[1], 10) : 0;\r\n          }\r\n        });\r\n      } catch (error) {\r\n        this.handleError(error);\r\n      }\r\n    },\r\n    exportToFile() {\r\n      let fileContent = \"Ma liste des courses\\n\\n\";\r\n      if (this.categoriesVisible) {\r\n        Object.keys(this.groupedItems).forEach(category => {\r\n          fileContent += `${category}\\n`;\r\n          this.groupedItems[category].forEach(item => {\r\n            fileContent += `- ${item.food_name} (${item.quantity})\\n`;\r\n          });\r\n          fileContent += '\\n';\r\n        });\r\n      } else {\r\n        this.shoppingItems.forEach(item => {\r\n          fileContent += `- ${item.food_name} (${item.quantity})\\n`;\r\n        });\r\n      }\r\n      const blob = new Blob([fileContent], { type: 'text/plain' });\r\n      const link = document.createElement('a');\r\n      link.href = URL.createObjectURL(blob);\r\n      link.download = 'Ma_liste_des_courses.txt';\r\n      link.click();\r\n      URL.revokeObjectURL(link.href);\r\n    },\r\n    async deleteItem(foodName) {\r\n      try {\r\n        await axios.delete(\r\n          `${process.env.VUE_APP_URL_BACKEND}/shopping-list/delete`,\r\n          {\r\n            params: { food_name: foodName },\r\n            withCredentials: true,\r\n          }\r\n        );\r\n        this.shoppingItems = this.shoppingItems.filter((item) => item.food_name !== foodName);\r\n        if (this.categoriesVisible) {\r\n          this.groupItemsByCategory();\r\n        }\r\n      } catch (error) {\r\n        this.handleError(error);\r\n      }\r\n    },\r\n    async updateQuantity(foodId, action = 'add') {\r\n      const newQuantity = this.quantities[foodId];\r\n      if (newQuantity === undefined || newQuantity <= 0) {\r\n        alert(\"Veuillez entrer une quantité valide.\");\r\n        return;\r\n      }\r\n      const incrementValue = action === 'add' ? newQuantity : -newQuantity;\r\n      try {\r\n        const updatedItem = this.shoppingItems.find((item) => item.food_id === foodId);\r\n        if (updatedItem) {\r\n          const currentQuantity = parseInt(updatedItem.quantity.match(/^(\\d+)/)[1], 10);\r\n          if (action === 'subtract' && currentQuantity + incrementValue <= 0) {\r\n            alert(\"La quantité ne peut pas être égale à 0.\");\r\n            return;\r\n          }\r\n        }\r\n        const response = await axios.post(\r\n          `${process.env.VUE_APP_URL_BACKEND}/shopping-list/update-quantity`,\r\n          {\r\n            listId : this.listId,\r\n            foodId,\r\n            incrementValue,\r\n          },\r\n          {\r\n            withCredentials: true,\r\n          }\r\n        );\r\n        if (updatedItem) {\r\n          updatedItem.quantity = response.data.newQuantity;\r\n        }\r\n      } catch (error) {\r\n        this.handleError(error);\r\n      }\r\n    },\r\n    isQuantityNumeric(quantity) {\r\n      return /^\\d+/.test(quantity);\r\n    }\r\n  },\r\n  mounted() {\r\n    this.fetchShoppingList();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n  height: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.card {\r\n  background-color: #212121;\r\n  border: none;\r\n  border-radius: 8px;\r\n  width: 100%;\r\n  max-width: 1500px;\r\n  padding: 20px;\r\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n  max-height: 80vh;\r\n  overflow-y: auto;\r\n}\r\nh1 {\r\n  text-align: center;\r\n  margin-bottom: 20px;\r\n  font-size: 2rem;\r\n  color: #343a40;\r\n}\r\n.grocery-list {\r\n  list-style-type: none;\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\n.grocery-item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  flex-wrap: wrap;\r\n  align-items: flex-start;\r\n  padding: 15px;\r\n  margin-bottom: 10px;\r\n  background-color: #171717;\r\n  border: 1px solid #ddd;\r\n  border-radius: 5px;\r\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\r\n  transition: all 0.3s ease-out;\r\n}\r\n.grocery-item.removed {\r\n  opacity: 0;\r\n  transform: translateX(-20px);\r\n}\r\n.food-name {\r\n  font-weight: bold;\r\n  color: white;\r\n  margin-bottom: 5px;\r\n  display: block;\r\n}\r\n.food-quantity {\r\n  color: white;\r\n  font-size: 0.9rem;\r\n  display: block;\r\n  margin-bottom: 10px;\r\n}\r\n.grocery-actions {\r\n  display: flex;\r\n  flex-wrap: nowrap;\r\n  align-items: center;\r\n  gap: 10px;\r\n}\r\n.update-section {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n}\r\n.quantity-input {\r\n  width: 50px;\r\n  padding: 5px;\r\n  border: 1px solid #ced4da;\r\n  border-radius: 4px;\r\n  font-size: 0.9rem;\r\n}\r\n.quantity-input:focus {\r\n  outline: none;\r\n  border-color: #80bdff;\r\n  box-shadow: 0 0 5px rgba(0, 123, 255, 0.25);\r\n}\r\n.non-modifiable {\r\n  font-style: italic;\r\n  color: #6c757d;\r\n}\r\n.subtract-btn {\r\n  background-color: #ffc107;\r\n  color: white;\r\n}\r\n.subtract-btn:hover {\r\n  background-color: #e0a800;\r\n}\r\nbutton {\r\n    background-color: #BA9371;\r\n    color: white;\r\n    border: none;\r\n    transition: all 0.3s ease;\r\n    border-radius: 4px;\r\n    padding: 8px 12px;\r\n    width: 110px;\r\n    text-align: center;\r\n    flex-shrink: 0;\r\n}\r\nbutton:hover {\r\n    background-color: #C56929;\r\n    transform: scale(1.05);\r\n    color: white;\r\n}\r\n.action-icon {\r\n  width: 30px;\r\n  height: 30px;\r\n  cursor: pointer;\r\n  transition: transform 0.2s ease, opacity 0.2s ease;\r\n  margin-left: 10px;\r\n}\r\n.action-icon:hover {\r\n  transform: scale(1.2);\r\n  opacity: 0.8;\r\n}\r\n.add-icon {\r\n  margin-left: 0;\r\n}\r\n.subtract-icon {\r\n  margin-left: 10px;\r\n}\r\n.delete-icon {\r\n  margin-left: auto;\r\n}\r\n.icon-wrapper {\r\n  position: relative;\r\n  display: inline-block;\r\n}\r\n.tooltip-text {\r\n  visibility: hidden;\r\n  width: 80px;\r\n  background-color: #333;\r\n  color: #fff;\r\n  text-align: center;\r\n  border-radius: 4px;\r\n  padding: 5px;\r\n  position: absolute;\r\n  top: -35px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  opacity: 0;\r\n  transition: opacity 0.2s;\r\n  font-size: 0.8rem;\r\n  white-space: nowrap;\r\n}\r\n.icon-wrapper:hover .tooltip-text {\r\n  visibility: visible;\r\n  opacity: 1;\r\n}\r\n.action-buttons {\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-bottom: 20px;\r\n  gap: 20px;\r\n}\r\n.category-section {\r\n  margin-bottom: 20px;\r\n}\r\n.category-title {\r\n  background-color: none;\r\n  color: white;\r\n  border: none;\r\n  transition: all 0.3s ease;\r\n  border-radius: 4px;\r\n  padding: 8px 12px;\r\n  width: 100%;\r\n  text-align: center;\r\n  flex-shrink: 0;\r\n}\r\n.category-title:hover{\r\n  transform: scale(1.05);\r\n  color: white;\r\n}\r\n.category-icon {\r\n  width: 24px;\r\n  height: 24px;\r\n  margin-right: 10px;\r\n}\r\n.empty-message {\r\n  text-align: center;\r\n  font-size: 1.2em;\r\n  color: #666;\r\n  margin-top: 20px;\r\n}\r\n.modal-actions-icons {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  gap: 15px;\r\n  margin-top: 20px;\r\n}\r\n.icon-action {\r\n  font-size: 24px;\r\n  color: #BA9371;\r\n  cursor: pointer;\r\n  transition: transform 0.2s ease, color 0.3s ease;\r\n}\r\n.icon-action:hover {\r\n  transform: scale(1.2);\r\n  color: #C56929;\r\n}\r\n.grocery-list {\r\n  display: grid;\r\n  grid-template-columns: repeat(1, 1fr);\r\n  gap: 20px;\r\n}\r\n@media (min-width: 576px) {\r\n  .grocery-list {\r\n    grid-template-columns: repeat(2, 1fr);\r\n  }\r\n}\r\n@media (min-width: 768px) {\r\n  .grocery-list {\r\n    grid-template-columns: repeat(3, 1fr);\r\n  }\r\n}\r\n@media (min-width: 992px) {\r\n  .grocery-list {\r\n    grid-template-columns: repeat(5, 1fr);\r\n  }\r\n}\r\n</style>\r\n","import { render } from \"./GroceryList.vue?vue&type=template&id=4d4a2220&scoped=true\"\nimport script from \"./GroceryList.vue?vue&type=script&lang=js\"\nexport * from \"./GroceryList.vue?vue&type=script&lang=js\"\n\nimport \"./GroceryList.vue?vue&type=style&index=0&id=4d4a2220&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4d4a2220\"]])\n\nexport default __exports__"],"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","$data","errorMessage","_hoisted_3","_toDisplayString","shoppingItems","length","_hoisted_4","_hoisted_5","_hoisted_6","onClick","_cache","args","$options","toggleSort","categoriesVisible","exportToFile","_hoisted_7","_Fragment","_renderList","groupedItems","items","category","_hoisted_8","src","getCategoryIcon","alt","_hoisted_9","_createTextVNode","_hoisted_10","item","index","_hoisted_11","_hoisted_12","food_name","isValidQuantity","quantity","_hoisted_13","_createCommentVNode","_hoisted_14","isQuantityNumeric","_hoisted_15","type","$event","quantities","food_id","placeholder","_hoisted_16","number","_hoisted_17","updateQuantity","title","_hoisted_18","_hoisted_19","deleteItem","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","name","data","methods","handleError","error","this","icons","groupItemsByCategory","categoriesOrder","forEach","charAt","toUpperCase","slice","push","Object","keys","sort","a","b","indexOf","reduce","acc","isNaN","parseFloat","fetchShoppingList","response","axios","get","withCredentials","listId","match","parseInt","fileContent","blob","Blob","link","document","createElement","href","URL","createObjectURL","download","click","revokeObjectURL","foodName","delete","params","filter","foodId","action","newQuantity","undefined","alert","incrementValue","updatedItem","find","currentQuantity","post","test","mounted","__exports__","render"],"sourceRoot":""}