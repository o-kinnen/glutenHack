{"version":3,"file":"js/511.d2544216.js","mappings":"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","sources":["webpack://frontend/./src/views/GroceryList.vue","webpack://frontend/./src/views/GroceryList.vue?46a7"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"card p-4 text-white\">\r\n      <h1 class=\"text-white\">Ma liste des courses</h1>\r\n      <div v-if=\"errorMessage\" class=\"empty-message\">\r\n        {{ errorMessage }}\r\n      </div>\r\n      <div v-else-if=\"shoppingItems.length === 0\" class=\"empty-message\">\r\n        La liste est vide...\r\n      </div>\r\n      <div v-else>\r\n        <div class=\"action-buttons\">\r\n          <!--\r\n          <button @click=\"toggleSort\" class=\"button sort-btn\">\r\n            {{ categoriesVisible ? 'Trier' : 'Trier' }}\r\n          </button>\r\n          -->\r\n          <button @click=\"exportToFile\" class=\"button export-btn\">Exporter</button>\r\n        </div>\r\n      </div>\r\n      <div v-if=\"categoriesVisible\">\r\n        <div v-for=\"(items, category) in groupedItems\" :key=\"category\" class=\"category-section\">\r\n          <h2 class=\"category-title\"><img :src=\"getCategoryIcon(category)\" :alt=\"category\" class=\"category-icon\">{{ category }}</h2>\r\n          <ul class=\"grocery-list\">\r\n            <li v-for=\"(item, index) in items\" :key=\"index\" class=\"grocery-item\">\r\n              <div class=\"grocery-details\">\r\n                <span class=\"food-name\">{{ item.food_name }}</span>\r\n                <span v-if=\"item.quantity\" class=\"food-name\">({{ item.quantity }})</span>\r\n                <span v-else class=\"food-name\">(pas de quantité définie)</span>\r\n              </div>\r\n              <div class=\"grocery-actions\">\r\n                <div v-if=\"isQuantityNumeric(item.quantity)\" class=\"update-section\">\r\n                  <input type=\"number\" v-model.number=\"quantities[item.food_id]\" placeholder=\"Nouvelle quantité\" class=\"quantity-input\"/>\r\n                  <div class=\"modal-actions-icons\">\r\n                    <i class=\"bi bi-plus-circle-fill icon-action\" \r\n                      @click=\"updateQuantity(item.food_id, 'add')\" \r\n                      title=\"Ajouter\">\r\n                    </i>\r\n                    <span class=\"tooltip-text\">Ajouter</span>\r\n                    <i class=\"bi bi-dash-circle-fill icon-action\" \r\n                      @click=\"updateQuantity(item.food_id, 'subtract')\" \r\n                      title=\"Diminuer\">\r\n                    </i>\r\n                    <span class=\"tooltip-text\">Diminuer</span>\r\n                    <i class=\"bi bi-trash-fill icon-action\" \r\n                      @click=\"deleteItem(item.food_name)\" \r\n                      title=\"Supprimer\">\r\n                    </i>\r\n                    <span class=\"tooltip-text\">Supprimer</span>\r\n                  </div>\r\n                </div>\r\n                <div v-else>\r\n                <div class=\"modal-actions-icons\">\r\n                  <i\r\n                    class=\"bi bi-trash-fill icon-action\"\r\n                    @click=\"deleteItem(item.food_name)\"\r\n                    title=\"Supprimer\">\r\n                  </i>\r\n                  <span class=\"tooltip-text\">Supprimer</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n    <ul v-else class=\"grocery-list\">\r\n      <li v-for=\"(item, index) in shoppingItems\" :key=\"index\" class=\"grocery-item\">\r\n        <div class=\"grocery-details\">\r\n          <span class=\"food-name\">{{ item.food_name }}</span>\r\n          <span v-if=\"item.quantity\" class=\"food-name\">({{ item.quantity }})</span>\r\n          <span v-else class=\"food-name\">(pas de quantité définie)</span>\r\n        </div>\r\n        <div class=\"grocery-actions\">\r\n          <div v-if=\"isQuantityNumeric(item.quantity)\" class=\"update-section\">\r\n            <input v-if=\"isQuantityNumeric(item.quantity)\" type=\"number\" v-model.number=\"quantities[item.food_id]\" placeholder=\"Nouvelle quantité\" class=\"quantity-input\"/>\r\n              <div class=\"modal-actions-icons\">\r\n                <i class=\"bi bi-plus-circle-fill icon-action\" \r\n                  @click=\"updateQuantity(item.food_id, 'add')\" \r\n                  title=\"Ajouter\">\r\n                </i>\r\n                <span class=\"tooltip-text\">Ajouter</span>\r\n                <i class=\"bi bi-dash-circle-fill icon-action\" \r\n                  @click=\"updateQuantity(item.food_id, 'subtract')\" \r\n                  title=\"Diminuer\">\r\n                </i>\r\n                <span class=\"tooltip-text\">Diminuer</span>\r\n                <i class=\"bi bi-trash-fill icon-action\" \r\n                  @click=\"deleteItem(item.food_name)\" \r\n                  title=\"Supprimer\">\r\n                </i>\r\n                <span class=\"tooltip-text\">Supprimer</span>\r\n              </div>\r\n            </div>\r\n            <div v-else>\r\n              <div class=\"modal-actions-icons\">\r\n                <i class=\"bi bi-trash-fill icon-action\"\r\n                  @click=\"deleteItem(item.food_name)\"\r\n                  title=\"Supprimer\">\r\n                </i>\r\n                <span class=\"tooltip-text\">Supprimer</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\nexport default {\r\n  name: 'GroceryPage',\r\n  data() {\r\n    return {\r\n      shoppingItems: [],\r\n      quantities: {},\r\n      groupedItems: {},\r\n      categoriesVisible: false,\r\n      errorMessage: '',\r\n    };\r\n  },\r\n  methods: {\r\n    handleError(error) {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      console.error('Erreur :', error);\r\n    }\r\n    this.errorMessage = \"Rien pour le moment\";\r\n  },\r\n    getCategoryIcon(category) {\r\n      const icons = {\r\n        'Produits laitiers': '/img/lait.png',\r\n        'Noix': '/img/fruits à coque.png',\r\n        'Fruits': '/img/fruits.png',\r\n        'Légumes': '/img/céleri.png',\r\n        'Viande': '/img/viande.png',\r\n        'Féculents': '/img/gluten.png',\r\n        'Épices': '/img/épices.png',\r\n        'Poissons': '/img/poissons.png',\r\n        'Crustacés': '/img/crustacés.png',\r\n        'Sauces': '/img/moutarde.png',\r\n      };\r\n      return icons[category] || '/img/shopping.png';\r\n    },\r\n    groupItemsByCategory() {\r\n      const categoriesOrder = [\r\n        'Produits laitiers',\r\n        'Noix',\r\n        'Fruits',\r\n        'Légumes',\r\n        'Viande',\r\n        'Féculents',\r\n        'Épices',\r\n        'Poissons',\r\n        'Crustacés',\r\n        'Sauces'\r\n      ];\r\n      this.groupedItems = {};\r\n      this.shoppingItems.forEach(item => {\r\n        const category = item.category ? item.category.charAt(0).toUpperCase() + item.category.slice(1) : 'Autres';\r\n        if (!this.groupedItems[category]) {\r\n          this.groupedItems[category] = [];\r\n        }\r\n        this.groupedItems[category].push(item);\r\n      });\r\n      this.groupedItems = Object.keys(this.groupedItems)\r\n        .sort((a, b) => categoriesOrder.indexOf(a) - categoriesOrder.indexOf(b))\r\n        .reduce((acc, key) => {\r\n        acc[key] = this.groupedItems[key];\r\n        return acc;\r\n      }, {});\r\n    },\r\n    toggleSort() {\r\n      if (this.categoriesVisible) {\r\n        this.categoriesVisible = false;\r\n      } else {\r\n        this.groupItemsByCategory();\r\n        this.categoriesVisible = true;\r\n      }\r\n    },\r\n    async fetchShoppingList() {\r\n      try {\r\n        const response = await axios.get(`${process.env.VUE_APP_URL_BACKEND}/shopping-list/`, {\r\n          withCredentials: true,\r\n        });\r\n        this.listId = response.data.listId;\r\n        this.shoppingItems = response.data.items;\r\n        this.shoppingItems.forEach((item) => {\r\n          item.category = item.category ? item.category : 'Autres';\r\n          if (this.isQuantityNumeric(item.quantity)) {\r\n            const match = item.quantity.match(/^(\\d+)/);\r\n            this.quantities[item.food_id] = match ? parseInt(match[1], 10) : 0;\r\n          }\r\n        });\r\n      } catch (error) {\r\n        this.handleError(error);\r\n      }\r\n    },\r\n    exportToFile() {\r\n      let fileContent = \"Ma liste des courses\\n\\n\";\r\n      if (this.categoriesVisible) {\r\n        Object.keys(this.groupedItems).forEach(category => {\r\n          fileContent += `${category}\\n`;\r\n          this.groupedItems[category].forEach(item => {\r\n            fileContent += `- ${item.food_name} (${item.quantity})\\n`;\r\n          });\r\n          fileContent += '\\n';\r\n        });\r\n      } else {\r\n        this.shoppingItems.forEach(item => {\r\n          fileContent += `- ${item.food_name} (${item.quantity})\\n`;\r\n        });\r\n      }\r\n      const blob = new Blob([fileContent], { type: 'text/plain' });\r\n      const link = document.createElement('a');\r\n      link.href = URL.createObjectURL(blob);\r\n      link.download = 'Ma_liste_des_courses.txt';\r\n      link.click();\r\n      URL.revokeObjectURL(link.href);\r\n    },\r\n    async deleteItem(foodName) {\r\n      try {\r\n        await axios.delete(\r\n          `${process.env.VUE_APP_URL_BACKEND}/shopping-list/delete`,\r\n          {\r\n            params: { food_name: foodName },\r\n            withCredentials: true,\r\n          }\r\n        );\r\n        this.shoppingItems = this.shoppingItems.filter((item) => item.food_name !== foodName);\r\n        if (this.categoriesVisible) {\r\n          this.groupItemsByCategory();\r\n        }\r\n      } catch (error) {\r\n        this.handleError(error);\r\n      }\r\n    },\r\n    async updateQuantity(foodId, action = 'add') {\r\n      const newQuantity = this.quantities[foodId];\r\n      if (newQuantity === undefined || newQuantity <= 0) {\r\n        alert(\"Veuillez entrer une quantité valide.\");\r\n        return;\r\n      }\r\n      const incrementValue = action === 'add' ? newQuantity : -newQuantity;\r\n      try {\r\n        const updatedItem = this.shoppingItems.find((item) => item.food_id === foodId);\r\n        if (updatedItem) {\r\n          const currentQuantity = parseInt(updatedItem.quantity.match(/^(\\d+)/)[1], 10);\r\n          if (action === 'subtract' && currentQuantity + incrementValue <= 0) {\r\n            alert(\"La quantité ne peut pas être égale à 0.\");\r\n            return;\r\n          }\r\n        }\r\n        const response = await axios.post(\r\n          `${process.env.VUE_APP_URL_BACKEND}/shopping-list/update-quantity`,\r\n          {\r\n            listId : this.listId,\r\n            foodId,\r\n            incrementValue,\r\n          },\r\n          {\r\n            withCredentials: true,\r\n          }\r\n        );\r\n        if (updatedItem) {\r\n          updatedItem.quantity = response.data.newQuantity;\r\n        }\r\n      } catch (error) {\r\n        this.handleError(error);\r\n      }\r\n    },\r\n    isQuantityNumeric(quantity) {\r\n      return /^\\d+/.test(quantity);\r\n    }\r\n  },\r\n  mounted() {\r\n    this.fetchShoppingList();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.container {\r\n  height: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n.card {\r\n  background-color: #212121;\r\n  border: none;\r\n  border-radius: 8px;\r\n  width: 90%;\r\n  max-width: 500px;\r\n  padding: 20px;\r\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n  max-height: 80vh;\r\n  overflow-y: auto;\r\n}\r\nh1 {\r\n  text-align: center;\r\n  margin-bottom: 20px;\r\n  font-size: 2rem;\r\n  color: #343a40;\r\n}\r\n.grocery-list {\r\n  list-style-type: none;\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\n.grocery-item {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  flex-wrap: wrap;\r\n  align-items: flex-start;\r\n  padding: 15px;\r\n  margin-bottom: 10px;\r\n  background-color: #171717;\r\n  border: 1px solid #ddd;\r\n  border-radius: 5px;\r\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);\r\n  transition: all 0.3s ease-out;\r\n}\r\n.grocery-item.removed {\r\n  opacity: 0;\r\n  transform: translateX(-20px);\r\n}\r\n.food-name {\r\n  font-weight: bold;\r\n  color: white;\r\n  margin-bottom: 5px;\r\n  display: block;\r\n}\r\n.food-quantity {\r\n  color: white;\r\n  font-size: 0.9rem;\r\n  display: block;\r\n  margin-bottom: 10px;\r\n}\r\n.grocery-actions {\r\n  display: flex;\r\n  flex-wrap: nowrap;\r\n  align-items: center;\r\n  gap: 10px;\r\n}\r\n.update-section {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n}\r\n.quantity-input {\r\n  width: 50px;\r\n  padding: 5px;\r\n  border: 1px solid #ced4da;\r\n  border-radius: 4px;\r\n  font-size: 0.9rem;\r\n}\r\n.quantity-input:focus {\r\n  outline: none;\r\n  border-color: #80bdff;\r\n  box-shadow: 0 0 5px rgba(0, 123, 255, 0.25);\r\n}\r\n.non-modifiable {\r\n  font-style: italic;\r\n  color: #6c757d;\r\n}\r\n.subtract-btn {\r\n  background-color: #ffc107;\r\n  color: white;\r\n}\r\n.subtract-btn:hover {\r\n  background-color: #e0a800;\r\n}\r\nbutton {\r\n    background-color: #BA9371;\r\n    color: white;\r\n    border: none;\r\n    transition: all 0.3s ease;\r\n    border-radius: 4px;\r\n    padding: 8px 12px;\r\n    width: 110px;\r\n    text-align: center;\r\n    flex-shrink: 0;\r\n}\r\nbutton:hover {\r\n    background-color: #C56929;\r\n    transform: scale(1.05);\r\n    color: white;\r\n}\r\n.action-icon {\r\n  width: 30px;\r\n  height: 30px;\r\n  cursor: pointer;\r\n  transition: transform 0.2s ease, opacity 0.2s ease;\r\n  margin-left: 10px;\r\n}\r\n.action-icon:hover {\r\n  transform: scale(1.2);\r\n  opacity: 0.8;\r\n}\r\n.add-icon {\r\n  margin-left: 0;\r\n}\r\n.subtract-icon {\r\n  margin-left: 10px;\r\n}\r\n.delete-icon {\r\n  margin-left: auto;\r\n}\r\n.icon-wrapper {\r\n  position: relative;\r\n  display: inline-block;\r\n}\r\n.tooltip-text {\r\n  visibility: hidden;\r\n  width: 80px;\r\n  background-color: #333;\r\n  color: #fff;\r\n  text-align: center;\r\n  border-radius: 4px;\r\n  padding: 5px;\r\n  position: absolute;\r\n  top: -35px;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n  opacity: 0;\r\n  transition: opacity 0.2s;\r\n  font-size: 0.8rem;\r\n  white-space: nowrap;\r\n}\r\n.icon-wrapper:hover .tooltip-text {\r\n  visibility: visible;\r\n  opacity: 1;\r\n}\r\n.action-buttons {\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-bottom: 20px;\r\n  gap: 20px;\r\n}\r\n.category-section {\r\n  margin-bottom: 20px;\r\n}\r\n.category-title {\r\n  background-color: none;\r\n  color: white;\r\n  border: none;\r\n  transition: all 0.3s ease;\r\n  border-radius: 4px;\r\n  padding: 8px 12px;\r\n  width: 100%;\r\n  text-align: center;\r\n  flex-shrink: 0;\r\n}\r\n.category-title:hover{\r\n  transform: scale(1.05);\r\n  color: white;\r\n}\r\n.category-icon {\r\n  width: 24px;\r\n  height: 24px;\r\n  margin-right: 10px;\r\n}\r\n.empty-message {\r\n  text-align: center;\r\n  font-size: 1.2em;\r\n  color: #666;\r\n  margin-top: 20px;\r\n}\r\n.modal-actions-icons {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  gap: 15px;\r\n  margin-top: 20px;\r\n}\r\n.icon-action {\r\n  font-size: 24px;\r\n  color: #BA9371;\r\n  cursor: pointer;\r\n  transition: transform 0.2s ease, color 0.3s ease;\r\n}\r\n.icon-action:hover {\r\n  transform: scale(1.2);\r\n  color: #C56929;\r\n}\r\n</style>\r\n","import { render } from \"./GroceryList.vue?vue&type=template&id=d934bf84&scoped=true\"\nimport script from \"./GroceryList.vue?vue&type=script&lang=js\"\nexport * from \"./GroceryList.vue?vue&type=script&lang=js\"\n\nimport \"./GroceryList.vue?vue&type=style&index=0&id=d934bf84&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d934bf84\"]])\n\nexport default __exports__"],"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","$data","errorMessage","_hoisted_3","_toDisplayString","shoppingItems","length","_hoisted_4","_hoisted_5","_hoisted_6","onClick","_cache","args","$options","exportToFile","categoriesVisible","_hoisted_7","_Fragment","_renderList","groupedItems","items","category","_hoisted_8","src","getCategoryIcon","alt","_hoisted_9","_createTextVNode","_hoisted_10","item","index","_hoisted_11","_hoisted_12","food_name","quantity","_hoisted_13","_hoisted_14","_hoisted_15","isQuantityNumeric","_hoisted_16","type","$event","quantities","food_id","placeholder","_hoisted_17","number","_hoisted_18","updateQuantity","title","_hoisted_19","_hoisted_20","deleteItem","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_hoisted_31","_hoisted_32","_createCommentVNode","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","name","data","methods","handleError","error","this","icons","groupItemsByCategory","categoriesOrder","forEach","charAt","toUpperCase","slice","push","Object","keys","sort","a","b","indexOf","reduce","acc","toggleSort","fetchShoppingList","response","axios","get","withCredentials","listId","match","parseInt","fileContent","blob","Blob","link","document","createElement","href","URL","createObjectURL","download","click","revokeObjectURL","foodName","delete","params","filter","foodId","action","newQuantity","undefined","alert","incrementValue","updatedItem","find","currentQuantity","post","test","mounted","__exports__","render"],"sourceRoot":""}