{"version":3,"file":"js/619.98189253.js","mappings":"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","sources":["webpack://frontend/./src/views/LoginPage.vue","webpack://frontend/./src/views/LoginPage.vue?fce3"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"card p-4 text-white\">\r\n      <h2 class=\"mb-4\">Se connecter</h2>\r\n      <Form @submit=\"login\">\r\n        <div class=\"mb-3\">\r\n          <label for=\"email\" class=\"form-label\">Adresse mail</label>\r\n            <Field \r\n              id=\"email\" \r\n              name=\"email\" \r\n              type=\"email\" \r\n              class=\"form-control\" \r\n              v-model=\"email\"\r\n              rules=\"required|email\"\r\n            />\r\n            <ErrorMessage name=\"email\" class=\"text-danger\"/>\r\n        </div>\r\n        <div class=\"mb-3\">\r\n          <label for=\"password\" class=\"form-label\">Mot de passe</label>\r\n            <Field \r\n              id=\"password\" \r\n              name=\"password\" \r\n              type=\"password\" \r\n              class=\"form-control\" \r\n              v-model=\"password\"\r\n              rules=\"required\"\r\n            />\r\n            <ErrorMessage name=\"password\" class=\"text-danger\"/>\r\n        </div>\r\n        <button type=\"submit\" class=\"btn btn-light btn-block mb-3\">Se connecter</button>\r\n        <div v-if=\"errorMessage\" class=\"alert alert-danger mt-3\">{{ errorMessage }}</div>\r\n      </Form>\r\n      <router-link to=\"/password\" class=\"router-link\">Mot de passe oublié ?</router-link>\r\n      <router-link to=\"/signup\" class=\"router-link\">Pas de compte ?</router-link>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineRule, Form, Field, ErrorMessage } from 'vee-validate';\r\nimport axios from 'axios';\r\ndefineRule('required', value => {\r\n  return value ? true : 'Veuillez remplir ce champ correctement.';\r\n});\r\ndefineRule('email', value => {\r\n  const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;\r\n  if (!emailRegex.test(value)) {\r\n    return 'Le format de l\\'adresse mail est invalide.';\r\n  }\r\n  return true;\r\n});\r\nexport default {\r\n    name: 'LoginPage',\r\n    components: {\r\n        Form,\r\n        Field,\r\n        ErrorMessage,\r\n    },\r\n    data() {\r\n        return {\r\n            email: '',\r\n            password: '',\r\n            errorMessage: '',\r\n        }\r\n    },\r\n    methods: {\r\n        async login() {\r\n      try {\r\n        await axios.post(`${process.env.VUE_APP_URL_BACKEND}/users/login`, {\r\n          email: this.email,\r\n          password: this.password,\r\n        }, { withCredentials: true });\r\n\r\n        this.$store.dispatch('login');\r\n        this.$router.push('/profile');\r\n      } catch (error) {\r\n        if (error.response) {\r\n          if (error.response.status === 401) {\r\n            this.errorMessage = 'Mot de passe incorrect.';\r\n          } else if (error.response.status === 404) {\r\n            this.errorMessage = 'Compte non trouvé.';\r\n          } else {\r\n            this.errorMessage = error.response.data.message || 'Échec de la connexion. Veuillez vérifier votre email et votre mot de passe.';\r\n          }\r\n        } else {\r\n          this.errorMessage = 'Erreur lors de la communication avec le serveur. Veuillez réessayer plus tard.';\r\n        }\r\n        this.errorHandler(error);\r\n      }\r\n    },\r\n    errorHandler(error) {\r\n      if (process.env.VUE_APP_NODE_ENV == 'production') {\r\n        console.error('Erreur :', error);\r\n      }\r\n    },\r\n  },\r\n};\r\n</script>\r\n  \r\n<style>\r\n.card {\r\n    background-color: #212121;\r\n    border: none;\r\n    border-radius: 8px;\r\n    width: 90%;\r\n    max-width: 400px;\r\n    padding: 20px;\r\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n}\r\n.container {\r\n  height: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\nbutton.btn {\r\n    background-color: #BA9371;\r\n    color: white;\r\n    border: none;\r\n    transition: all 0.3s ease;\r\n}\r\nbutton.btn:hover {\r\n    background-color: #C56929;\r\n    transform: scale(1.05);\r\n    color: white;\r\n}\r\n.router-link {\r\n    text-decoration: none!important;\r\n    color: #ffffff;\r\n    transition: text-decoration 0.3s;\r\n}\r\n.router-link:hover {\r\n    text-decoration: underline!important;\r\n}\r\n</style>\r\n\r\n","import { render } from \"./LoginPage.vue?vue&type=template&id=7d756ce9\"\nimport script from \"./LoginPage.vue?vue&type=script&lang=js\"\nexport * from \"./LoginPage.vue?vue&type=script&lang=js\"\n\nimport \"./LoginPage.vue?vue&type=style&index=0&id=7d756ce9&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_Form","onSubmit","$options","login","default","_withCtx","_hoisted_3","for","_component_Field","id","name","type","modelValue","$data","email","_cache","$event","rules","_component_ErrorMessage","_hoisted_4","password","errorMessage","_hoisted_5","_toDisplayString","_createCommentVNode","_","_component_router_link","to","_createTextVNode","defineRule","value","emailRegex","test","components","Form","Field","ErrorMessage","data","methods","axios","post","this","withCredentials","$store","dispatch","$router","push","error","response","status","message","errorHandler","console","__exports__","render"],"sourceRoot":""}