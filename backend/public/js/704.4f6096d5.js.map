{"version":3,"file":"js/704.4f6096d5.js","mappings":"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","sources":["webpack://frontend/./src/views/SignupPage.vue","webpack://frontend/./src/views/SignupPage.vue?d999"],"sourcesContent":["<template>\r\n  <div class=\"container mt-5\">\r\n    <div class=\"row justify-content-center\">\r\n      <div class=\"col-md-6\">\r\n        <div class=\"card p-4\">\r\n          <Form @submit=\"handleSubmit\" class=\"signup-form\">\r\n            <div class=\"mb-3\">\r\n              <label for=\"username\" class=\"form-label\">Nom</label>\r\n              <Field \r\n                id=\"username\" \r\n                name=\"username\" \r\n                type=\"text\" \r\n                class=\"form-control\" \r\n                v-model=\"username\"\r\n                rules=\"required|min:3\"\r\n              />\r\n              <ErrorMessage name=\"username\" class=\"text-danger\"/>\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label for=\"email\" class=\"form-label\">Adresse mail</label>\r\n              <Field \r\n                id=\"email\" \r\n                name=\"email\" \r\n                type=\"email\" \r\n                class=\"form-control\" \r\n                v-model=\"email\"\r\n                rules=\"required|email\"\r\n              />\r\n              <ErrorMessage name=\"email\" class=\"text-danger\"/>\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label for=\"password\" class=\"form-label\">Mot de passe</label>\r\n              <Field \r\n                id=\"password\" \r\n                name=\"password\" \r\n                type=\"password\" \r\n                class=\"form-control\" \r\n                v-model=\"password\"\r\n                rules=\"required|min:8|passwordUppercase|passwordLowercase|passwordNumber|passwordSpecial|noSpaces\"\r\n              />\r\n              <ErrorMessage name=\"password\" class=\"text-danger\"/>\r\n            </div>\r\n            <div class=\"mb-3\">\r\n              <label for=\"confirmPassword\" class=\"form-label\">Répéter le mot de passe</label>\r\n              <Field \r\n                id=\"confirmPassword\" \r\n                name=\"confirmPassword\" \r\n                type=\"password\" \r\n                class=\"form-control\" \r\n                v-model=\"confirmPassword\"\r\n                rules=\"required|matches:password\"\r\n              />\r\n              <ErrorMessage name=\"confirmPassword\" class=\"text-danger\"/>\r\n            </div>\r\n            <div class=\"mb-3 form-check\">\r\n              <input \r\n                id=\"terms\" \r\n                name=\"terms\" \r\n                type=\"checkbox\" \r\n                class=\"form-check-input\" \r\n                v-model=\"termsAccepted\"\r\n              />\r\n              <label for=\"terms\" class=\"form-check-label\">J'accepte les conditions d'utilisation</label>\r\n              <router-link to=\"/terms\" class=\"terms-link ms-2\">Lire les termes de confidentialité</router-link>\r\n            </div>\r\n            <button type=\"submit\" class=\"btn btn-primary w-100\">Créer un compte</button>\r\n            <p class=\"text-center mt-3\">Déjà un compte ? <router-link to=\"/login\">Se connecter</router-link></p>\r\n          </Form>\r\n          <div v-if=\"errorMessage\" class=\"alert alert-danger mt-3\">{{ errorMessage }}</div>\r\n          <div v-if=\"successMessage\" class=\"alert alert-success mt-3\">{{ successMessage }}</div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineRule } from 'vee-validate';\r\nimport { Form, Field, ErrorMessage } from 'vee-validate';\r\nimport axios from 'axios';\r\n\r\ndefineRule('required', value => {\r\n  return value ? true : 'Veuillez remplir ce champ correctement.';\r\n});\r\ndefineRule('min', (value, [limit]) => {\r\n  if (value && value.length < limit) {\r\n    return `Veuillez remplir ce champ avec au moins ${limit} caractères.`;\r\n  }\r\n  return true;\r\n});\r\ndefineRule('email', (value) => {\r\n  const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;\r\n  if (!emailRegex.test(value)) {\r\n    return 'Le format de l\\'adresse mail est invalide.';\r\n  }\r\n  return true;\r\n});\r\ndefineRule('matches', (value, [target], ctx) => {\r\n  return value === ctx.form[target] || 'Les mots de passe ne correspondent pas.';\r\n});\r\ndefineRule('passwordUppercase', (value) => {\r\n  return /[A-Z]/.test(value) || 'Le mot de passe doit contenir au moins une lettre majuscule.';\r\n});\r\ndefineRule('passwordLowercase', (value) => {\r\n  return /[a-z]/.test(value) || 'Le mot de passe doit contenir au moins une lettre minuscule.';\r\n});\r\ndefineRule('passwordNumber', (value) => {\r\n  return /[0-9]/.test(value) || 'Le mot de passe doit contenir au moins un chiffre.';\r\n});\r\ndefineRule('passwordSpecial', (value) => {\r\n  return /[!@#$%^&*(),.?\":{}|<>]/.test(value) || 'Le mot de passe doit contenir au moins un caractère spécial.';\r\n});\r\ndefineRule('noSpaces', (value) => {\r\n  return !/\\s/.test(value) || \"Le mot de passe ne doit pas contenir d'espaces.\";\r\n});\r\n\r\nexport default {\r\n  components: {\r\n    Form,\r\n    Field,\r\n    ErrorMessage,\r\n  },\r\n  data() {\r\n    return {\r\n      username: '',\r\n      email: '',\r\n      password: '',\r\n      confirmPassword: '',\r\n      termsAccepted: false,\r\n      formSubmitted: false,\r\n      errorMessage: '',\r\n      successMessage: '',\r\n    };\r\n  },\r\n  methods: {\r\n    async handleSubmit() {\r\n      this.formSubmitted = true;\r\n      if (!this.termsAccepted) {\r\n        this.errorMessage = 'Vous devez accepter les conditions d\\'utilisation.';\r\n        return;\r\n      }\r\n      this.errorMessage = '';\r\n      await this.handleSignup();\r\n    },\r\n    async handleSignup() {\r\n      try {\r\n        await axios.post(`${process.env.VUE_APP_URL_BACKEND}/users/signup`, {\r\n          username: this.username,\r\n          email: this.email,\r\n          password: this.password\r\n        }, {\r\n          withCredentials: true\r\n        });\r\n        this.successMessage = 'Inscription réussie ! Redirection vers la page de connexion...';\r\n        setTimeout(() => {\r\n          this.$router.push('/login');\r\n        }, 1500);\r\n      } catch (error) {\r\n        if (error.response && error.response.data && error.response.data.message) {\r\n          this.errorMessage = error.response.data.message;\r\n        } else {\r\n          this.errorMessage = 'Erreur lors de la communication avec le serveur. Veuillez réessayer plus tard.';\r\n        }\r\n      }\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n","import { render } from \"./SignupPage.vue?vue&type=template&id=21b162f8\"\nimport script from \"./SignupPage.vue?vue&type=script&lang=js\"\nexport * from \"./SignupPage.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_createVNode","_component_Form","onSubmit","$options","handleSubmit","default","_withCtx","_hoisted_5","for","_component_Field","id","name","type","modelValue","$data","username","_cache","$event","rules","_component_ErrorMessage","_hoisted_6","email","_hoisted_7","password","_hoisted_8","confirmPassword","_hoisted_9","termsAccepted","_component_router_link","to","_createTextVNode","_","_hoisted_10","errorMessage","_hoisted_11","_toDisplayString","_createCommentVNode","successMessage","_hoisted_12","defineRule","value","limit","length","emailRegex","test","target","ctx","form","components","Form","Field","ErrorMessage","data","formSubmitted","methods","this","handleSignup","axios","post","withCredentials","setTimeout","$router","push","error","response","message","__exports__","render"],"sourceRoot":""}