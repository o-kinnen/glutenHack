"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[910],{910:function(e,s,a){a.r(s),a.d(s,{default:function(){return k}});var r=a(6768),t=a(4232);const l={class:"container text-center"},n={class:"card p-4 text-white"},i={class:"mb-3"},o={key:0,class:"alert alert-danger mt-3"},d={key:1,class:"alert alert-success mt-3"};function c(e,s,a,c,m,u){const p=(0,r.g2)("Field"),g=(0,r.g2)("ErrorMessage"),h=(0,r.g2)("Form");return(0,r.uX)(),(0,r.CE)("div",l,[(0,r.Lk)("div",n,[s[3]||(s[3]=(0,r.Lk)("h2",{class:"mb-4"},"Mot de passe oublié ?",-1)),(0,r.bF)(h,{onSubmit:u.sendResetLink,class:"resetLink-form"},{default:(0,r.k6)((()=>[(0,r.Lk)("div",i,[s[1]||(s[1]=(0,r.Lk)("label",{for:"email",class:"form-label"},"Adresse mail",-1)),(0,r.bF)(p,{id:"email",name:"email",type:"email",class:"form-control",modelValue:m.email,"onUpdate:modelValue":s[0]||(s[0]=e=>m.email=e),rules:"required|email"},null,8,["modelValue"]),(0,r.bF)(g,{name:"email",class:"text-danger"})]),s[2]||(s[2]=(0,r.Lk)("button",{type:"submit",class:"btn mb-3"},"Envoyer un email",-1)),m.errorMessage?((0,r.uX)(),(0,r.CE)("div",o,(0,t.v_)(m.errorMessage),1)):(0,r.Q3)("",!0),m.successMessage?((0,r.uX)(),(0,r.CE)("div",d,(0,t.v_)(m.successMessage),1)):(0,r.Q3)("",!0)])),_:1},8,["onSubmit"])])])}var m=a(6343),u=a(4373);(0,m.Km)("required",(e=>!!e||"Veuillez remplir ce champ correctement.")),(0,m.Km)("email",(e=>{const s=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;return!!s.test(e)||"Le format de l'adresse mail est invalide."}));var p={name:"PasswordPage",components:{Form:m.lV,Field:m.D0,ErrorMessage:m.Kw},data(){return{email:"",errorMessage:"",successMessage:""}},methods:{async sendResetLink(){try{const e=await u.A.post("https://www.cookaller.com/users/send-reset-link",{email:this.email},{withCredentials:!0});e.data.success?this.successMessage="Un email de réinitialisation de mot de passe a été envoyé.":this.handleError(new Error(e.data.message||"Erreur lors de l'envoi de l'email de réinitialisation."))}catch(e){this.handleError(e)}},handleError(e){e.response&&e.response.data&&e.response.data.message?this.errorMessage=e.response.data.message:this.errorMessage="Une erreur s'est produite. Veuillez réessayer plus tard."}}},g=a(1241);const h=(0,g.A)(p,[["render",c],["__scopeId","data-v-87683594"]]);var k=h}}]);
//# sourceMappingURL=910.8ab9c0a5.js.map