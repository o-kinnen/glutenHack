{"version":3,"file":"js/910.8ab9c0a5.js","mappings":"4LACSA,MAAM,yB,GACFA,MAAM,uB,GAGEA,MAAM,Q,GAL3BC,IAAA,EAkByCD,MAAM,2B,GAlB/CC,IAAA,EAmB2CD,MAAM,4B,kHAlB7CE,EAAAA,EAAAA,IAqBM,MArBNC,EAqBM,EApBFC,EAAAA,EAAAA,IAmBM,MAnBNC,EAmBM,cAlBFD,EAAAA,EAAAA,IAA2C,MAAvCJ,MAAM,QAAO,yBAAqB,KACtCM,EAAAA,EAAAA,IAgBOC,EAAA,CAhBAC,SAAQC,EAAAC,cAAeV,MAAM,kB,CAJhDW,SAAAC,EAAAA,EAAAA,KAKgB,IAWM,EAXNR,EAAAA,EAAAA,IAWM,MAXNS,EAWM,cAVFT,EAAAA,EAAAA,IAA0D,SAAnDU,IAAI,QAAQd,MAAM,cAAa,gBAAY,KAClDM,EAAAA,EAAAA,IAOES,EAAA,CANEC,GAAG,QACHC,KAAK,QACLC,KAAK,QACLlB,MAAM,eAX9BmB,WAYiCC,EAAAC,MAZjC,sBAAAC,EAAA,KAAAA,EAAA,GAAAC,GAYiCH,EAAAC,MAAKE,GACdC,MAAM,kB,wBAEVlB,EAAAA,EAAAA,IAAgDmB,EAAA,CAAlCR,KAAK,QAAQjB,MAAM,kB,aAErCI,EAAAA,EAAAA,IAAgE,UAAxDc,KAAK,SAASlB,MAAM,YAAW,oBAAgB,IAC5CoB,EAAAM,eAAY,WAAvBxB,EAAAA,EAAAA,IAAiF,MAAjFyB,GAAiFC,EAAAA,EAAAA,IAArBR,EAAAM,cAAY,KAlBxFG,EAAAA,EAAAA,IAAA,OAmB2BT,EAAAU,iBAAc,WAAzB5B,EAAAA,EAAAA,IAAsF,MAAtF6B,GAAsFH,EAAAA,EAAAA,IAAvBR,EAAAU,gBAAc,KAnB7FD,EAAAA,EAAAA,IAAA,UAAAG,EAAA,G,6CA4BAC,EAAAA,EAAAA,IAAW,YAAYC,KACdA,GAAe,6CAExBD,EAAAA,EAAAA,IAAW,SAASC,IAClB,MAAMC,EAAa,mDACnB,QAAKA,EAAWC,KAAKF,IACZ,2CAEE,IAEb,OACIjB,KAAM,eACNoB,WAAY,CACRC,KAAI,KACJC,MAAK,KACLC,aAAYA,EAAAA,IAEhBC,IAAAA,GACI,MAAO,CACHpB,MAAO,GACPK,aAAc,GACdI,eAAgB,GAExB,EACAY,QAAS,CACL,mBAAMhC,GACF,IACI,MAAMiC,QAAiBC,EAAAA,EAAMC,KAAK,kDAC9B,CAAExB,MAAOyB,KAAKzB,OACd,CAAE0B,iBAAiB,IAEnBJ,EAASF,KAAKO,QACdF,KAAKhB,eAAiB,6DAEtBgB,KAAKG,YAAY,IAAIC,MAAMP,EAASF,KAAKU,SAAW,0DAE5D,CAAE,MAAOC,GACLN,KAAKG,YAAYG,EACrB,CACJ,EACAH,WAAAA,CAAYG,GAIJA,EAAMT,UAAYS,EAAMT,SAASF,MAAQW,EAAMT,SAASF,KAAKU,QAC7DL,KAAKpB,aAAe0B,EAAMT,SAASF,KAAKU,QAExCL,KAAKpB,aAAe,0DAE5B,I,UCtER,MAAM2B,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,GAAQ,CAAC,YAAY,qBAEzF,O","sources":["webpack://frontend/./src/views/PasswordPage.vue","webpack://frontend/./src/views/PasswordPage.vue?0dc3"],"sourcesContent":["<template>\r\n    <div class=\"container text-center\">\r\n        <div class=\"card p-4 text-white\">\r\n            <h2 class=\"mb-4\">Mot de passe oublié ?</h2>\r\n            <Form @submit=\"sendResetLink\" class=\"resetLink-form\">\r\n                <div class=\"mb-3\">\r\n                    <label for=\"email\" class=\"form-label\">Adresse mail</label>\r\n                    <Field \r\n                        id=\"email\" \r\n                        name=\"email\" \r\n                        type=\"email\" \r\n                        class=\"form-control\" \r\n                        v-model=\"email\"\r\n                        rules=\"required|email\"\r\n                    />\r\n                    <ErrorMessage name=\"email\" class=\"text-danger\"/>\r\n                </div>\r\n                <button type=\"submit\" class=\"btn mb-3\">Envoyer un email</button>\r\n                <div v-if=\"errorMessage\" class=\"alert alert-danger mt-3\">{{ errorMessage }}</div>\r\n                <div v-if=\"successMessage\" class=\"alert alert-success mt-3\">{{ successMessage }}</div>\r\n            </Form>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { defineRule, Form, Field, ErrorMessage } from 'vee-validate';\r\nimport axios from 'axios';\r\ndefineRule('required', value => {\r\n  return value ? true : 'Veuillez remplir ce champ correctement.';\r\n});\r\ndefineRule('email', value => {\r\n  const emailRegex = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;\r\n  if (!emailRegex.test(value)) {\r\n    return 'Le format de l\\'adresse mail est invalide.';\r\n  }\r\n  return true;\r\n});\r\nexport default {\r\n    name: 'PasswordPage',\r\n    components: {\r\n        Form,\r\n        Field,\r\n        ErrorMessage,\r\n    },\r\n    data() {\r\n        return {\r\n            email: '',\r\n            errorMessage: '',\r\n            successMessage: '',\r\n        }\r\n    },\r\n    methods: {\r\n        async sendResetLink () {\r\n            try {\r\n                const response = await axios.post(`${process.env.VUE_APP_URL_BACKEND}/users/send-reset-link`,\r\n                    { email: this.email },\r\n                    { withCredentials: true }\r\n                );\r\n                if (response.data.success) {\r\n                    this.successMessage = 'Un email de réinitialisation de mot de passe a été envoyé.';\r\n                } else {\r\n                    this.handleError(new Error(response.data.message || 'Erreur lors de l\\'envoi de l\\'email de réinitialisation.'));\r\n                }\r\n            } catch (error) {\r\n                this.handleError(error);\r\n            }\r\n        },\r\n        handleError(error) {\r\n            if (process.env.NODE_ENV !== 'production') {\r\n                console.error(error);\r\n            }\r\n            if (error.response && error.response.data && error.response.data.message) {\r\n                this.errorMessage = error.response.data.message;\r\n            } else {\r\n                this.errorMessage = 'Une erreur s\\'est produite. Veuillez réessayer plus tard.';\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n  \r\n<style scoped>\r\n.card {\r\n    background-color: #212121;\r\n    border: none;\r\n    border-radius: 8px;\r\n    width: 90%;\r\n    max-width: 400px;\r\n    padding: 20px;\r\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\r\n}\r\n.container {\r\n  height: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\nbutton.btn {\r\n    background-color: #BA9371;\r\n    color: white;\r\n    border: none;\r\n    transition: all 0.3s ease;\r\n}\r\nbutton.btn:hover {\r\n    background-color: #C56929;\r\n    transform: scale(1.05);\r\n    color: white;\r\n}\r\n.router-link {\r\n    text-decoration: none!important;\r\n    color: #ffffff;\r\n    transition: text-decoration 0.3s;\r\n}\r\n.router-link:hover {\r\n    text-decoration: underline!important;\r\n}\r\n</style>","import { render } from \"./PasswordPage.vue?vue&type=template&id=87683594&scoped=true\"\nimport script from \"./PasswordPage.vue?vue&type=script&lang=js\"\nexport * from \"./PasswordPage.vue?vue&type=script&lang=js\"\n\nimport \"./PasswordPage.vue?vue&type=style&index=0&id=87683594&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-87683594\"]])\n\nexport default __exports__"],"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_Form","onSubmit","$options","sendResetLink","default","_withCtx","_hoisted_3","for","_component_Field","id","name","type","modelValue","$data","email","_cache","$event","rules","_component_ErrorMessage","errorMessage","_hoisted_4","_toDisplayString","_createCommentVNode","successMessage","_hoisted_5","_","defineRule","value","emailRegex","test","components","Form","Field","ErrorMessage","data","methods","response","axios","post","this","withCredentials","success","handleError","Error","message","error","__exports__","render"],"sourceRoot":""}