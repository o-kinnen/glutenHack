"use strict";(self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[]).push([[946],{7946:function(e,s,a){a.r(s),a.d(s,{default:function(){return F}});var r=a(6768),t=a(5130),o=a(4232);const l={class:"container"},n={class:"card p-4 text-white"},m={class:"mb-3"},c={class:"mb-3"},i={class:"mb-3"},d={class:"mb-3"},u={class:"mb-3 form-check"},p={for:"terms",class:"form-check-label"},b={class:"text-center mt-3"},f={key:0,class:"alert alert-danger mt-3"},w={key:1,class:"alert alert-success mt-3"};function h(e,s,a,h,k,g){const L=(0,r.g2)("Field"),v=(0,r.g2)("ErrorMessage"),V=(0,r.g2)("router-link"),F=(0,r.g2)("Form");return(0,r.uX)(),(0,r.CE)("div",l,[(0,r.Lk)("div",n,[s[16]||(s[16]=(0,r.Lk)("h2",{class:"mb-4 text-center"},"Créer un compte",-1)),(0,r.bF)(F,{onSubmit:g.handleSubmit,class:"signup-form"},{default:(0,r.k6)((()=>[(0,r.Lk)("div",m,[s[5]||(s[5]=(0,r.Lk)("label",{for:"username",class:"form-label"},"Nom",-1)),(0,r.bF)(L,{id:"username",name:"username",type:"text",class:"form-control",modelValue:k.username,"onUpdate:modelValue":s[0]||(s[0]=e=>k.username=e),rules:"required|min:3"},null,8,["modelValue"]),(0,r.bF)(v,{name:"username",class:"text-danger"})]),(0,r.Lk)("div",c,[s[6]||(s[6]=(0,r.Lk)("label",{for:"email",class:"form-label"},"Adresse mail",-1)),(0,r.bF)(L,{id:"email",name:"email",type:"email",class:"form-control",modelValue:k.email,"onUpdate:modelValue":s[1]||(s[1]=e=>k.email=e),rules:"required|email"},null,8,["modelValue"]),(0,r.bF)(v,{name:"email",class:"text-danger"})]),(0,r.Lk)("div",i,[s[7]||(s[7]=(0,r.Lk)("label",{for:"password",class:"form-label"},"Mot de passe",-1)),(0,r.bF)(L,{id:"password",name:"password",type:"password",class:"form-control",modelValue:k.password,"onUpdate:modelValue":s[2]||(s[2]=e=>k.password=e),rules:"required|min:8|passwordUppercase|passwordLowercase|passwordNumber|passwordSpecial|noSpaces"},null,8,["modelValue"]),(0,r.bF)(v,{name:"password",class:"text-danger"})]),(0,r.Lk)("div",d,[s[8]||(s[8]=(0,r.Lk)("label",{for:"confirmPassword",class:"form-label"},"Répéter le mot de passe",-1)),(0,r.bF)(L,{id:"confirmPassword",name:"confirmPassword",type:"password",class:"form-control",modelValue:k.confirmPassword,"onUpdate:modelValue":s[3]||(s[3]=e=>k.confirmPassword=e),rules:"required|matches:password"},null,8,["modelValue"]),(0,r.bF)(v,{name:"confirmPassword",class:"text-danger"})]),(0,r.Lk)("div",u,[(0,r.bo)((0,r.Lk)("input",{id:"terms",name:"terms",type:"checkbox",class:"form-check-input","onUpdate:modelValue":s[4]||(s[4]=e=>k.termsAccepted=e)},null,512),[[t.lH,k.termsAccepted]]),(0,r.Lk)("label",p,[s[10]||(s[10]=(0,r.eW)("J'accepte les ")),(0,r.bF)(V,{to:"/terms",class:"router-link"},{default:(0,r.k6)((()=>s[9]||(s[9]=[(0,r.eW)("conditions d'utilisation")]))),_:1})]),s[12]||(s[12]=(0,r.Lk)("br",null,null,-1)),(0,r.bF)(V,{to:"/privacy-policy",class:"router-link"},{default:(0,r.k6)((()=>s[11]||(s[11]=[(0,r.eW)("Lire les termes de confidentialité")]))),_:1})]),s[15]||(s[15]=(0,r.Lk)("button",{type:"submit",class:"btn btn-primary w-100"},"Créer un compte",-1)),(0,r.Lk)("p",b,[s[14]||(s[14]=(0,r.eW)("Déjà un compte ? ")),(0,r.bF)(V,{class:"router-link",to:"/login"},{default:(0,r.k6)((()=>s[13]||(s[13]=[(0,r.eW)("Se connecter")]))),_:1})])])),_:1},8,["onSubmit"]),k.errorMessage?((0,r.uX)(),(0,r.CE)("div",f,(0,o.v_)(k.errorMessage),1)):(0,r.Q3)("",!0),k.successMessage?((0,r.uX)(),(0,r.CE)("div",w,(0,o.v_)(k.successMessage),1)):(0,r.Q3)("",!0)])])}a(4114);var k=a(6343),g=a(4373);(0,k.Km)("required",(e=>!!e||"Veuillez remplir ce champ correctement.")),(0,k.Km)("min",((e,[s])=>!(e&&e.length<s)||`Veuillez remplir ce champ avec au moins ${s} caractères.`)),(0,k.Km)("email",(e=>{const s=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;return!!s.test(e)||"Le format de l'adresse mail est invalide."})),(0,k.Km)("matches",((e,[s],a)=>e===a.form[s]||"Les mots de passe ne correspondent pas.")),(0,k.Km)("passwordUppercase",(e=>/[A-Z]/.test(e)||"Le mot de passe doit contenir au moins une lettre majuscule.")),(0,k.Km)("passwordLowercase",(e=>/[a-z]/.test(e)||"Le mot de passe doit contenir au moins une lettre minuscule.")),(0,k.Km)("passwordNumber",(e=>/[0-9]/.test(e)||"Le mot de passe doit contenir au moins un chiffre.")),(0,k.Km)("passwordSpecial",(e=>/[!@#$%^&*(),.?":{}|<>]/.test(e)||"Le mot de passe doit contenir au moins un caractère spécial.")),(0,k.Km)("noSpaces",(e=>!/\s/.test(e)||"Le mot de passe ne doit pas contenir d'espaces."));var L={components:{Form:k.lV,Field:k.D0,ErrorMessage:k.Kw},data(){return{username:"",email:"",password:"",confirmPassword:"",termsAccepted:!1,formSubmitted:!1,errorMessage:"",successMessage:""}},methods:{async handleSubmit(){this.formSubmitted=!0,this.termsAccepted?(this.errorMessage="",await this.handleSignup()):this.errorMessage="Vous devez accepter les conditions d'utilisation."},async handleSignup(){try{await g.A.post("https://www.cookaller.com/users/signup",{username:this.username,email:this.email,password:this.password},{withCredentials:!0}),this.successMessage="Inscription réussie ! Redirection vers la page de connexion...",setTimeout((()=>{this.$router.push("/login")}),1500)}catch(e){this.errorHandler(e)}},errorHandler(e){e.response&&e.response.data&&e.response.data.message?this.errorMessage=e.response.data.message:this.errorMessage="Erreur lors de la communication avec le serveur. Veuillez réessayer plus tard."}}},v=a(1241);const V=(0,v.A)(L,[["render",h],["__scopeId","data-v-12eade19"]]);var F=V}}]);
//# sourceMappingURL=946.14710cb0.js.map